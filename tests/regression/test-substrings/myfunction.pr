/* CIF PROCESS (200, 143), (150, 75) */
PROCESS myfunction;
    /* CIF TEXT (0, 133), (282, 128) */
    dcl str MyOctStr := 'abc';
dcl variable_str String := 'Hello!';

dcl seqof  MySeqOf := {hello, world};

dcl seqint seqInt := {1};
dcl seqbool seqBool := { true, false};
dcl seqbool2 seqBool2 := { true, false};
    /* CIF ENDTEXT */
    /* CIF TEXT (7, 43), (327, 41) */
    -- Test substrings in various contexts and operators
    /* CIF ENDTEXT */
    /* CIF PROCEDURE (1416, 490), (91, 35) */
    PROCEDURE factorial;
        /* CIF TEXT (29, 42), (215, 53) */
        fpar in N MyInteger, 
          in/out result MyInteger;
        /* CIF ENDTEXT */
        /* CIF START (298, 33), (70, 35) */
        START;
            /* CIF TASK (284, 83), (97, 35) */
            TASK result := 1;
            /* CIF TASK (223, 133), (220, 53) */
            TASK for x in range(1, n+1):
    result := (result * x) mod 255
endfor;
            /* CIF RETURN (315, 201), (35, 35) */
            RETURN ;
    ENDPROCEDURE;
    /* CIF START (104, 273), (65, 37) */
    START;
        /* CIF DECISION (75, 325), (123, 50) */
        DECISION hello in seqof
        /* CIF COMMENT (218, 326), (179, 53) */
        COMMENT 'Check IN operator with
enumerated type';
                /* CIF ANSWER (4, 395), (70, 23) */
                (true):
                    /* CIF PROCEDURECALL (-49, 433), (177, 35) */
                    CALL writeln(hello in seqof)
                    /* CIF COMMENT (148, 433), (111, 35) */
                    COMMENT 'print "TRUE"';
                /* CIF ANSWER (269, 395), (70, 23) */
                (false):
        ENDDECISION;
        /* CIF DECISION (59, 483), (155, 50) */
        DECISION hello in seqof(0,0)
        /* CIF COMMENT (242, 466), (236, 53) */
        COMMENT 'Check IN operator with
list substring - first element only
should go to branch TRUE';
                /* CIF ANSWER (8, 526), (66, 33) */
                (true):
                    /* CIF PROCEDURECALL (-59, 574), (201, 35) */
                    CALL writeln(hello in seqof(0,1))
                    /* CIF COMMENT (162, 574), (111, 35) */
                    COMMENT 'print "TRUE"';
                /* CIF ANSWER (286, 527), (70, 23) */
                (false):
        ENDDECISION;
        /* CIF PROCEDURECALL (41, 624), (190, 35) */
        CALL writeln(variable_str(0,4))
        /* CIF COMMENT (243, 579), (113, 35) */
        COMMENT 'print "Hello"';
        /* CIF TASK (48, 674), (176, 53) */
        TASK for x in seqof:
    call writeln(num(x));
endfor
        /* CIF COMMENT (242, 636), (96, 53) */
        COMMENT 'print:
12
13';
        /* CIF TASK (47, 742), (178, 53) */
        TASK for x in seqof(0,1):
    call writeln(-num(x));
endfor
        /* CIF COMMENT (243, 697), (96, 53) */
        COMMENT 'print:
-12
-13';
        /* CIF PROCEDURECALL (46, 810), (180, 35) */
        CALL writeln(length(seqof))
        /* CIF COMMENT (246, 780), (77, 35) */
        COMMENT 'print 2';
        /* CIF PROCEDURECALL (32, 860), (209, 35) */
        CALL writeln(length(seqof(0,1)))
        /* CIF COMMENT (261, 830), (77, 35) */
        COMMENT 'print 2';
        /* CIF LABEL (55, 910), (162, 35) */
        variable_length_seq:
        /* CIF TASK (65, 960), (142, 53) */
        TASK for x in seqint:
    call writeln(x);
endfor
        /* CIF COMMENT (227, 915), (96, 53) */
        COMMENT 'print:
1';
        /* CIF TASK (61, 1028), (150, 53) */
        TASK for x in seqint(0,0):
    call writeln(x);
endfor
        /* CIF COMMENT (231, 983), (96, 53) */
        COMMENT 'print:
1';
        /* CIF DECISION (75, 1096), (123, 50) */
        DECISION 1 in seqint
        /* CIF COMMENT (217, 1056), (179, 53) */
        COMMENT 'Check IN operator with
variable-length seqOf';
                /* CIF ANSWER (7, 1148), (66, 33) */
                (true):
                    /* CIF PROCEDURECALL (-48, 1196), (177, 35) */
                    CALL writeln(1 in seqint)
                    /* CIF COMMENT (149, 1196), (111, 35) */
                    COMMENT 'print "TRUE"';
                /* CIF ANSWER (267, 1148), (70, 23) */
                (false):
        ENDDECISION;
        /* CIF DECISION (73, 1246), (126, 50) */
        DECISION 1 in seqint(0,0)
        /* CIF COMMENT (218, 1206), (179, 53) */
        COMMENT 'Check IN operator with
variable-length seqOf';
                /* CIF ANSWER (5, 1298), (70, 23) */
                (true):
                    /* CIF PROCEDURECALL (-49, 1336), (179, 35) */
                    CALL writeln(1 in seqint(0,0))
                    /* CIF COMMENT (150, 1336), (111, 35) */
                    COMMENT 'print "TRUE"';
                /* CIF ANSWER (268, 1298), (70, 23) */
                (false):
        ENDDECISION;
        /* CIF PROCEDURECALL (46, 1386), (180, 35) */
        CALL writeln(length(seqint))
        /* CIF COMMENT (246, 1356), (77, 35) */
        COMMENT 'print 1';
        /* CIF PROCEDURECALL (30, 1436), (212, 35) */
        CALL writeln(length(seqint(0,0)))
        /* CIF COMMENT (262, 1406), (77, 35) */
        COMMENT 'print 1';
        /* CIF TASK (56, 1486), (161, 35) */
        TASK seqint := seqint // {2};
        /* CIF TASK (43, 1536), (186, 35) */
        TASK seqint := seqint(0,0) // {5};
        /* CIF TASK (65, 1586), (142, 53) */
        TASK for x in seqint:
    call writeln(x);
endfor
        /* CIF COMMENT (229, 1565), (96, 53) */
        COMMENT 'print:
1
5';
        /* CIF TASK (20, 1654), (233, 35) */
        TASK seqbool := seqbool and seqbool
        /* CIF COMMENT (273, 1648), (193, 35) */
        COMMENT 'should not raise any error';
        /* CIF TASK (10, 1704), (253, 38) */
        TASK seqbool2 := seqbool2 and seqbool2;
        /* CIF NEXTSTATE (104, 1757), (65, 33) */
        NEXTSTATE Wait;
    /* CIF STATE (839, 313), (70, 35) */
    STATE wait;
    ENDSTATE;
ENDPROCESS myfunction;