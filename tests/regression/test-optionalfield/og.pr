system og;
    /* CIF TEXT (159, 221), (289, 188) */
    -- Text area for declarations and comments
    
    use dv comment 'dataview.asn';
    
    signal run;
    
    signal we;
    /* CIF ENDTEXT */
    channel c
        from env to og with run;
        from og to env with we;
    endchannel;
    block og;
        signalroute r
            from env to og with run;
            from og to env with we;
        connect c and r;
        /* CIF PROCESS (225, 50), (150, 75) */
        process og;
            /* CIF TEXT (531, 266), (448, 158) */
            dcl s1 Seq := { a TRUE };
            
            dcl s2 Seq;
            
            -- Sequence containing DEFAULT values
            -- When not initialized by the user, the fields should anyway
            -- be set to their default (call to _Initialize should be done when declared!)
            dcl def SeqDef;
            
            dcl def2 SeqDef := { b 19, c 42 };
            /* CIF ENDTEXT */
            /* CIF START (269, 259), (70, 35) */
            START;
                /* CIF task (239, 309), (130, 35) */
                task s2 := { a FALSE};
                /* CIF decision (261, 364), (85, 48) */
                decision exist (s2.a)
                /* CIF comment (366, 370), (122, 38) */
                comment 'test presence of
optional field';
                    /* CIF ANSWER (224, 432), (70, 23) */
                    (true):
                    /* CIF ANSWER (314, 432), (70, 23) */
                    (false):
                enddecision;
                /* CIF decision (249, 470), (110, 50) */
                decision exist (s2.b.b_c);
                    /* CIF ANSWER (224, 540), (70, 23) */
                    (true):
                    /* CIF ANSWER (314, 540), (70, 23) */
                    (false):
                enddecision;
                /* CIF task (247, 578), (114, 35) */
                task s2.a := TRUE;
                /* CIF task (234, 628), (139, 35) */
                task s2.b.b_c := TRUE;
                /* CIF task (224, 678), (159, 35) */
                task s2 :={ b { b_c TRUE }};
                /* CIF PROCEDURECALL (244, 733), (119, 35) */
                call writeln (def.b)
                /* CIF comment (383, 733), (201, 35) */
                comment 'Uninitialized, expect garbage';
                /* CIF PROCEDURECALL (244, 788), (120, 35) */
                call writeln (def2.b)
                /* CIF comment (384, 788), (145, 35) */
                comment 'Should display 19';
                /* CIF task (258, 843), (92, 35) */
                task def2.b := 16;
                /* CIF PROCEDURECALL (244, 893), (120, 35) */
                call writeln (def2.b)
                /* CIF comment (384, 893), (145, 35) */
                comment 'Should display 16';
                /* CIF NEXTSTATE (269, 943), (70, 35) */
                NEXTSTATE wait;
            /* CIF state (269, 943), (70, 35) */
            state wait;
                /* CIF input (261, 998), (84, 35) */
                input run;
                    /* CIF NEXTSTATE (259, 1048), (88, 35) */
                    NEXTSTATE wait;
            endstate;
        endprocess og;
    endblock;
endsystem;