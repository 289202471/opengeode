[INFO] Starting to parse model test-ibk3/node.pr
[ERROR] Failed to parse model.
    org.antlr.v4.runtime.misc.ParseCancellationException: line 8:20 no viable alternative at input '/* CIF TEXT (867, 11), (275, 140) */\n                    -- Text area for declarations and comments\n                    \n                    DCL l3RrqPosition MyL3RrqInteger;\n                    /* CIF ENDTEXT */\n                    /* CIF procedure (52, 145), (181, 35) */\n                    procedure PackAckOperationData;\n                        /* CIF TEXT (429, 13), (287, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Lfn MyL3Lfn,\n                          in l3Hfn MyL3Hfn,\n                          in l3Data MyL3Rrq,\n                          out operationData MyOperationData;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (138, 1), (70, 35) */\n                        START;\n                            /* CIF task (20, 51), (306, 53) */\n                            task for i in range(0, length(operationData(0)), 1):\n  operationData(0)(i) := l3Tte(i)\nendfor;\n                            /* CIF task (20, 119), (306, 53) */\n                            task for i in range(0, length(operationData(1)), 1):\n  operationData(1)(i) := l3Tte(i + 8)\nendfor;\n                            /* CIF task (20, 187), (306, 53) */\n                            task for i in range(0, length(operationData(2)), 1):\n  operationData(2)(i) := l3Mrt(i)\nendfor;\n                            /* CIF task (20, 255), (306, 53) */\n                            task for i in range(0, length(operationData(3)), 1):\n  operationData(3)(i) := l3Mrt(i + 8)\nendfor;\n                            /* CIF task (20, 323), (306, 53) */\n                            task for i in range(0, length(operationData(4)), 1):\n  operationData(4)(i) := l3Lfn(i)\nendfor;\n                            /* CIF task (20, 391), (306, 53) */\n                            task for i in range(0, length(operationData(5)), 1):\n  operationData(5)(i) := l3Hfn(i)\nendfor;\n                            /* CIF task (46, 459), (254, 63) */\n                            task for i in range(6, length(l3Rrq) + 6, 1):\n  operationData(i) := l3Rrq(i - 6)\nendfor;\n                            /* CIF return (155, 543), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (74, 98), (140, 35) */\n                    procedure CalculateAckFcs;\n                        /* CIF TEXT (1109, 13), (289, 383) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Lfn MyL3Lfn,\n                          in l3Hfn MyL3Hfn,\n                          in l3Rrq MyL3Rrq,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3AckDataStack MyL3AckDataStack;\n                        \n                        DCL l3AckFcsStack MyL3AckFcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (628, 0), (70, 35) */\n                        START;\n                            /* CIF task (545, 50), (237, 63) */\n                            task for i in range(0, 4, 1):\n  l3AckFcsStack(i) := ba!srcAddr(i)\nendfor;\n                            /* CIF task (535, 133), (257, 63) */\n                            task for i in range(4, 8, 1):\n  l3AckFcsStack(i) := ba!dstAddr(i - 4)\nendfor;\n                            /* CIF task (554, 211), (219, 63) */\n                            task for i in range(8, 16, 1):\n  l3AckFcsStack(i) := code(i - 8)\nendfor;\n                            /* CIF task (550, 295), (227, 63) */\n                            task for i in range(16, 24, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (550, 383), (227, 63) */\n                            task for i in range(24, 32, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (549, 471), (228, 63) */\n                            task for i in range(32, 40, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (549, 559), (228, 63) */\n                            task for i in range(40, 48, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (551, 637), (225, 53) */\n                            task for i in range(48, 56, 1):\n  l3AckFcsStack(i) := l3Lfn(i - 48)\nendfor;\n                            /* CIF task (550, 709), (227, 53) */\n                            task for i in range(56, 64, 1):\n  l3AckFcsStack(i) := l3Hfn(i - 56)\nendfor;\n                            /* CIF task (534, 783), (259, 93) */\n                            task for i in range(0, length(l3Rrq), 1):\n  for j in range(0, length(l3Rrq(i)), 1):\n    l3AckDataStack((i*8)+j) := l3Rrq(i)(j)\n  endfor\nendfor;\n                            /* CIF task (497, 894), (333, 63) */\n                            task for i in range(64, length(l3AckDataStack) + 64, 1):\n  l3AckFcsStack(i) := l3AckDataStack(i - 72)\nendfor;\n                            /* CIF task (423, 975), (481, 63) */\n                            task for i in range(length(l3AckDataStack)+64, length(l3AckDataStack)+80, 1):\n  l3AckFcsStack(i) := false\nendfor;\n                            /* CIF task (278, 1060), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (611, 1110), (105, 48) */\n                            calculation:\n                            /* CIF decision (572, 1173), (182, 50) */\n                            decision l3AckFcsStack(k) = true;\n                                /* CIF ANSWER (352, 1243), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1281), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (63, 1331), (648, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3AckFcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (725, 1348), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (232, 1415), (311, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3AckFcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (560, 1432), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (907, 1243), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (473, 1498), (381, 63) */\n                            decision k = length(l3AckFcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (285, 1581), (70, 23) */\n                                (true):\n                                    /* CIF task (17, 1619), (607, 68) */\n                                    task for l in range(length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2), length(l3AckFcsStack), 1):\n  position := l - (length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3AckFcsStack(l)\nendfor;\n                                    /* CIF return (303, 1710), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (859, 1581), (70, 23) */\n                                (false):\n                                    /* CIF task (776, 1619), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1029, 1619), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (877, 1669), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (57, 221), (170, 35) */\n                    procedure AckIntegerTo16BitArray;\n                        /* CIF TEXT (696, 13), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My16BitArrayValueInteger,\n                          out bitArray My16BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        \n                        DCL value My16BitArrayValueInteger := 0;\n                        DCL bitValue My16BitArrayValueInteger := 65535;\n                        /* CIF ENDTEXT */\n                        /* CIF START (345, 0), (70, 35) */\n                        START;\n                            /* CIF task (312, 50), (135, 35) */\n                            task value := inti;\n                            /* CIF label (328, 100), (104, 48) */\n                            conversion:\n                            /* CIF task (177, 163), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (342, 226), (75, 50) */\n                            decision i = 15;\n                                /* CIF ANSWER (189, 296), (70, 23) */\n                                (true):\n                                    /* CIF return (206, 334), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (503, 297), (70, 23) */\n                                (false):\n                                    /* CIF task (435, 335), (206, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 15 then i else i + 1 fi;\n                                    /* CIF join (520, 388), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (89, 270), (102, 35) */\n                    procedure AckInvertFcs;\n                        /* CIF TEXT (267, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ifcs MyIfcs,\n                          out invertedIfcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (82, 0), (70, 35) */\n                        START;\n                            /* CIF task (5, 50), (223, 53) */\n                            task for ii in range(0, length(ifcs), 1):\n  invertedIfcs(15-ii) := ifcs(i)\nendfor;\n                            /* CIF return (99, 118), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (89, 319), (98, 35) */\n                    procedure AckPackInfo;\n                        /* CIF TEXT (439, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in cntrl MyCntrl,\n                          in code MyCode,\n                          in operationData MyOperationData,\n                          in ifcs MyIfcs,\n                          out info MyInfo;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (143, 0), (70, 35) */\n                        START;\n                            /* CIF task (47, 50), (262, 93) */\n                            task info!ba := ba,\ninfo!cntrl := cntrl,\ninfo!code := code,\ninfo!operationData := operationData,\ninfo!ifcs := ifcs;\n                            /* CIF return (160, 158), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF START (111, 1), (70, 35) */\n                    START;\n                        /* CIF NEXTSTATE (44, 51), (204, 35) */\n                        NEXTSTATE acknowledgementReceival;\n                    /* CIF state (528, 1), (204, 35) */\n                    state acknowledgementReceival;\n                        /* CIF input (548, 56), (165, 35) */\n                        input receiveAck(ackData);\n                            /* CIF task (438, 110), (384, 63) */\n                            task ba := ackData!ba,\ncntrl := { false, false, false, false, false, false, true, true },\ncode := ackData!code;\n                            /* CIF task (542, 198), (177, 53) */\n                            task l3Mrt := ackData!l3Mrt,\nl3Lfn := ackData!l3Lfn,\nl3Hfn := ackData!l3Hfn;\n                            /* CIF decision (484, 271), (292, 50) */\n                            decision length(ackData!l3MissingData) < 244;\n                                /* CIF ANSWER (338, 341), (70, 23) */\n                                (true):\n                                    /* CIF task (208, 379), (329, 68) */\n                                    task for i in range(0, length(ackData!l3MissingData), 1):\n  l3RrqPosition := i\n  l3Rrq(l3RrqPosition) := ackData!l3MissingData(i)\nendfor;\n                                    /* CIF output (294, 477), (158, 35) */\n                                    output SendFrameCount(1);\n                                    /* CIF PROCEDURECALL (261, 527), (224, 33) */\n                                    call AckIntegerTo16BitArray(0, l3Tte);\n                                    /* CIF PROCEDURECALL (165, 575), (416, 35) */\n                                    call CalculateAckFcs(ba, code, l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq, ifcs);\n                                    /* CIF PROCEDURECALL (268, 625), (210, 35) */\n                                    call AckInvertFcs(ifcs, invertedIfcs);\n                                    /* CIF PROCEDURECALL (139, 675), (467, 35) */\n                                    call PackAckOperationData(l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq, operationData);\n                                    /* CIF PROCEDURECALL (175, 725), (396, 35) */\n                                    call AckPackInfo(ba, cntrl, code, operationData, invertedIfcs, info);\n                                    /* CIF output (276, 775), (194, 35) */\n                                    output SendData(info);\n                                    /* CIF return (355, 825), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (853, 341), (70, 23) */\n                                (false):\n                                    /* CIF return (870, 379), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endstate;\n            endsubstructure;\n            state rawDataReceival;\n            substructure\n                    /* CIF TEXT (1497, 16), (339, 203) */\n                    -- Text area for declarations and comments\n                    \n                    DCL l3Stack MyL3Stack;\n                    \n                    DCL noOfFrame My8BitArrayValueInteger := 0;\n                    DCL timeToEnd MyRawDataInteger;\n                    \n                    DCL sentL3Stack MyL3Stack;\n                    DCL noOfSentFrames MyL3StackInteger := 0;\n                    \n                    DCL i MyL3AckMissingStackInteger := 0;\n                    \n                    DCL noOfMissingFrame My8BitArrayValueInteger;\n                    /* CIF ENDTEXT */\n                    /* CIF procedure (465, 144), (154, 35) */\n                    procedure IntegerTo8BitArray;\n                        /* CIF TEXT (528, 10), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My8BitArrayValueInteger,\n                          out bitArray My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayInteger := 0;\n                        \n                        DCL value My8BitArrayValueInteger := 0;\n                        DCL bitValue My8BitArrayValueInteger := 255;\n                        /* CIF ENDTEXT */\n                        /* CIF START (192, 1), (70, 35) */\n                        START;\n                            /* CIF task (160, 51), (135, 35) */\n                            task value := inti;\n                            /* CIF label (175, 101), (104, 46) */\n                            conversion:\n                            /* CIF task (25, 162), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (190, 225), (75, 50) */\n                            decision i = 7;\n                                /* CIF ANSWER (316, 295), (70, 23) */\n                                (true):\n                                    /* CIF return (334, 333), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (64, 295), (70, 23) */\n                                (false):\n                                    /* CIF task (0, 333), (199, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 7 then i else i + 1 fi;\n                                    /* CIF join (82, 386), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (460, 287), (158, 35) */\n                    procedure PackOperationData;\n                        /* CIF TEXT (429, 13), (287, 183) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Fnum MyL3Fnum,\n                          in l3Data MyL3Data,\n                          out operationData MyOperationData;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (138, 1), (70, 35) */\n                        START;\n                            /* CIF task (20, 51), (306, 53) */\n                            task for ii in range(0, length(operationData(0)), 1):\n  operationData(0)(ii) := l3Tte(ii)\nendfor;\n                            /* CIF task (20, 119), (306, 53) */\n                            task for ii in range(0, length(operationData(1)), 1):\n  operationData(1)(ii) := l3Tte(ii + 8)\nendfor;\n                            /* CIF task (20, 187), (306, 53) */\n                            task for ii in range(0, length(operationData(2)), 1):\n  operationData(2)(ii) := l3Mrt(ii)\nendfor;\n                            /* CIF task (20, 255), (306, 53) */\n                            task for ii in range(0, length(operationData(3)), 1):\n  operationData(3)(ii) := l3Mrt(ii + 8)\nendfor;\n                            /* CIF task (20, 323), (306, 53) */\n                            task for ii in range(0, length(operationData(4)), 1):\n  operationData(4)(ii) := l3Fnum(ii)\nendfor;\n                            /* CIF task (42, 391), (262, 63) */\n                            task for ii in range(5, length(l3Data) + 5, 1):\n  operationData(ii) := l3Data(ii - 5)\nendfor;\n                            /* CIF return (155, 473), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (493, 334), (90, 35) */\n                    procedure PackInfo;\n                        /* CIF TEXT (439, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in cntrl MyCntrl,\n                          in code MyCode,\n                          in operationData MyOperationData,\n                          in ifcs MyIfcs,\n                          out info MyInfo;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (143, 0), (70, 35) */\n                        START;\n                            /* CIF task (47, 50), (262, 93) */\n                            task info!ba := ba,\ninfo!cntrl := cntrl,\ninfo!code := code,\ninfo!operationData := operationData,\ninfo!ifcs := ifcs;\n                            /* CIF return (160, 158), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (473, 97), (139, 35) */\n                    procedure DataToL3Frames;\n                        /* CIF TEXT (1199, 15), (293, 233) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in rawData MyRawData,\n                          out l3Stack MyL3Stack;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL currentOctet MyRawDataInteger := 0;\n                        \n                        DCL lastOctet MyRawDataInteger;\n                        \n                        DCL l3Data MyL3Data;\n                        DCL l3DataPosition MyL3DataInteger;\n                        DCL frameCounter MyL3StackInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (652, 0), (70, 35) */\n                        START;\n                            /* CIF label (635, 50), (104, 47) */\n                            converting:\n                            /* CIF decision (554, 112), (265, 50) */\n                            decision length(rawData) - currentOctet > 244;\n                                /* CIF ANSWER (324, 182), (70, 23) */\n                                (true):\n                                    /* CIF task (102, 220), (513, 35) */\n                                    task lastOctet := if currentOctet = 62475 then lastOctet else currentOctet + 245 fi;\n                                    /* CIF task (194, 270), (329, 68) */\n                                    task for ii in range(currentOctet, lastOctet, 1):\n  l3DataPosition := ii - currentOctet\n  l3Data(l3DataPosition) := inputData!rawData(ii)\nendfor\n                                    /* CIF comment (538, 285), (290, 38) */\n                                    comment 'Part of array of octets to array of L3 data';\n                                    /* CIF task (80, 368), (557, 53) */\n                                    task l3Stack(frameCounter) := l3Data,\nframeCounter := if frameCounter = 254 then frameCounter else frameCounter + 1 fi,\ncurrentOctet := if currentOctet = 62475 then currentOctet else currentOctet + 245 fi;\n                                /* CIF ANSWER (973, 182), (70, 23) */\n                                (false):\n                                    /* CIF task (843, 220), (329, 68) */\n                                    task for ii in range(currentOctet, length(rawData), 1):\n  l3DataPosition := ii - currentOctet\n  l3Data(l3DataPosition) := inputData!rawData(ii)\nendfor;\n                                    /* CIF task (891, 318), (233, 35) */\n                                    task l3Stack(frameCounter) := l3Data;\n                                    /* CIF return (990, 372), (35, 35) */\n                                    return ;\n                            enddecision;\n                            /* CIF join (669, 436), (35, 35) */\n                            join converting;\n                    endprocedure;\n                    /* CIF procedure (460, 191), (161, 35) */\n                    procedure IntegerTo16BitArray;\n                        /* CIF TEXT (696, 13), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My16BitArrayValueInteger,\n                          out bitArray My16BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        \n                        DCL value My16BitArrayValueInteger := 0;\n                        DCL bitValue My16BitArrayValueInteger := 65535;\n                        /* CIF ENDTEXT */\n                        /* CIF START (345, 0), (70, 35) */\n                        START;\n                            /* CIF task (312, 50), (135, 35) */\n                            task value := inti;\n                            /* CIF label (328, 100), (104, 48) */\n                            conversion:\n                            /* CIF task (177, 163), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (342, 226), (75, 50) */\n                            decision i = 15;\n                                /* CIF ANSWER (189, 296), (70, 23) */\n                                (true):\n                                    /* CIF return (206, 334), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (503, 297), (70, 23) */\n                                (false):\n                                    /* CIF task (435, 335), (206, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 15 then i else i + 1 fi;\n                                    /* CIF join (520, 388), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (479, 239), (117, 35) */\n                    procedure CalculateFcs;\n                        /* CIF TEXT (1092, 13), (289, 368) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Fnum MyL3Fnum,\n                          in l3Data MyL3Data,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3DataStack MyL3DataStack;\n                        \n                        DCL l3FcsStack MyL3FcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (611, 0), (70, 35) */\n                        START;\n                            /* CIF task (539, 50), (214, 63) */\n                            task for ii in range(0, 4, 1):\n  l3FcsStack(ii) := ba!srcAddr(ii)\nendfor\n                            /* CIF comment (773, 64), (98, 35) */\n                            comment 'ERROR HERE';\n                            /* CIF task (529, 133), (234, 63) */\n                            task for ii in range(4, 8, 1):\n  l3FcsStack(ii) := ba!dstAddr(ii - 4)\nendfor;\n                            /* CIF task (548, 211), (196, 63) */\n                            task for ii in range(8, 16, 1):\n  l3FcsStack(ii) := code(ii - 8)\nendfor;\n                            /* CIF task (544, 295), (204, 63) */\n                            task for ii in range(16, 24, 1):\n  l3FcsStack(ii) := l3Tte(ii - 16)\nendfor;\n                            /* CIF task (544, 383), (204, 63) */\n                            task for ii in range(24, 32, 1):\n  l3FcsStack(ii) := l3Tte(ii - 16)\nendfor;\n                            /* CIF task (543, 471), (205, 63) */\n                            task for ii in range(32, 40, 1):\n  l3FcsStack(ii) := l3Mrt(ii - 32)\nendfor;\n                            /* CIF task (543, 559), (205, 63) */\n                            task for ii in range(40, 48, 1):\n  l3FcsStack(ii) := l3Mrt(ii - 32)\nendfor;\n                            /* CIF task (538, 642), (215, 63) */\n                            task for ii in range(48, 56, 1):\n  l3FcsStack(ii) := l3Fnum(ii - 48)\nendfor;\n                            /* CIF task (508, 720), (276, 83) */\n                            task for ii in range(0, length(l3Data), 1):\n  for j in range(0, length(l3Data(ii)), 1):\n    l3DataStack((ii*8)+j) := l3Data(ii)(j)\n  endfor\nendfor\n                            /* CIF comment (804, 744), (224, 35) */\n                            comment 'Array of octets to array of bits';\n                            /* CIF task (491, 823), (310, 63) */\n                            task for ii in range(56, length(l3DataStack) + 56, 1):\n  l3FcsStack(ii) := l3DataStack(ii - 56)\nendfor;\n                            /* CIF task (428, 901), (435, 63) */\n                            task for ii in range(length(l3DataStack)+56, length(l3DataStack)+72, 1):\n  l3FcsStack(ii) := false\nendfor;\n                            /* CIF task (260, 986), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (593, 1036), (105, 48) */\n                            calculation:\n                            /* CIF decision (566, 1099), (159, 50) */\n                            decision l3FcsStack(k) = true;\n                                /* CIF ANSWER (409, 1169), (70, 23) */\n                                (true):\n                                    /* CIF task (56, 1207), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (131, 1257), (625, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3FcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (770, 1273), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (287, 1355), (313, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3FcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (616, 1371), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (906, 1169), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (467, 1438), (358, 63) */\n                            decision k = length(l3FcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (268, 1521), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1559), (606, 68) */\n                                    task for l in range(length(l3FcsStack) - (length(l3FcsPolynomial) - 2), length(l3FcsStack), 1):\n  position := l - (length(l3FcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3FcsStack(l)\nendfor;\n                                    /* CIF return (285, 1642), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (832, 1521), (70, 23) */\n                                (false):\n                                    /* CIF task (749, 1559), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1004, 1503), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (849, 1609), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (457, 381), (163, 35) */\n                    procedure CalculateResendTte;\n                        /* CIF TEXT (724, 10), (310, 153) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3AckMissingStack MyL3AckMissingStack,\n                          in l3Stack MyL3Stack,\n                          out timeToEnd MyRawDataInteger;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (322, 0), (70, 35) */\n                        START;\n                            /* CIF task (0, 50), (714, 63) */\n                            task for ii in range(0, length(l3AckMissingStack), 1):\n  timeToEnd := if timeToEnd = 62475 then timeToEnd else timeToEnd + length(l3Stack(l3AckMissingStack(ii) - 1)) fi\nendfor;\n                            /* CIF return (339, 138), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (492, 430), (94, 35) */\n                    procedure InvertFcs;\n                        /* CIF TEXT (267, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ifcs MyIfcs,\n                          out invertedIfcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (82, 0), (70, 35) */\n                        START;\n                            /* CIF task (5, 50), (223, 53) */\n                            task for ii in range(0, length(ifcs), 1):\n  invertedIfcs(15-ii) := ifcs(ii)\nendfor;\n                            /* CIF return (99, 118), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF START (508, 1), (70, 35) */\n                    START;\n                        /* CIF NEXTSTATE (472, 51), (141, 35) */\n                        NEXTSTATE rawDataReceival;\n                    /* CIF state (1187, 1), (141, 38) */\n                    state rawDataReceival;\n                        /* CIF input (1162, 59), (190, 35) */\n                        input ReadRawData(inputData);\n                            /* CIF task (1065, 109), (384, 53) */\n                            task ba := inputData!ba,\ncntrl := { false, false, false, false, false, false, true, true },\ncode := inputData!code;\n                            /* CIF decision (1189, 192), (136, 50) */\n                            decision code;\n                                /* CIF ANSWER (606, 262), (336, 23) */\n                                ({false, false, false, false, false, false, false, false}):\n                                    /* CIF return (756, 300), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (1088, 262), (338, 23) */\n                                ({false, false, false, false, false, false, false, true}):\n                                    /* CIF task (1148, 300), (218, 38) */\n                                    task l3Mrt := inputData!l3Mrt,\ntimeToEnd := length(rawData);\n                                    /* CIF PROCEDURECALL (1101, 356), (312, 35) */\n                                    call DataToL3Frames(inputData!rawData, l3Stack);\n                                    /* CIF output (1134, 406), (246, 35) */\n                                    output SendFrameCount(length(l3Stack));\n                                    /* CIF label (1200, 456), (114, 53) */\n                                    dataSending:\n                                    /* CIF task (1022, 524), (470, 53) */\n                                    task noOfFrame := if noOfFrame = 255 then noOfFrame else noOfFrame+1 fi,\nl3Data := l3Stack(noOfFrame - 1),\ntimeToEnd := timeToEnd - length(l3Data);\n                                    /* CIF PROCEDURECALL (1117, 597), (279, 35) */\n                                    call IntegerTo8BitArray(noOfFrame, l3Fnum);\n                                    /* CIF PROCEDURECALL (1121, 647), (271, 35) */\n                                    call IntegerTo16BitArray(timeToEnd, l3Tte);\n                                    /* CIF PROCEDURECALL (1069, 697), (376, 35) */\n                                    call CalculateFcs(ba, code, l3Tte, l3Mrt, l3Fnum, l3Data, ifcs);\n                                    /* CIF PROCEDURECALL (1156, 747), (202, 35) */\n                                    call InvertFcs(ifcs, invertedIfcs);\n                                    /* CIF PROCEDURECALL (1043, 797), (427, 35) */\n                                    call PackOperationData(l3Tte, l3Mrt, l3Fnum, l3Data, operationData);\n                                    /* CIF PROCEDURECALL (1063, 847), (388, 35) */\n                                    call PackInfo(ba, cntrl, code, operationData, invertedIfcs, info);\n                                    /* CIF output (1160, 897), (194, 35) */\n                                    output SendData(info);\n                                    /* CIF task (952, 947), (609, 48) */\n                                    task sentL3Stack(noOfSentFrames) := l3Data,\nnoOfSentFrames := if noOfSentFrames = 254 then noOfSentFrames else noOfSentFrames + 1 fi;\n                                    /* CIF decision (1092, 1010), (329, 50) */\n                                    decision length(sentL3Stack) = length(l3Stack);\n                                        /* CIF ANSWER (1121, 1080), (70, 23) */\n                                        (true):\n                                            /* CIF return (1138, 1118), (35, 35) */\n                                            return ;\n                                        /* CIF ANSWER (1317, 1080), (70, 23) */\n                                        (false):\n                                            /* CIF join (1334, 1118), (35, 35) */\n                                            join dataSending;\n                                    enddecision;\n                                /* CIF ANSWER (1757, 262), (333, 23) */\n                                ({false, false, false, false, false, false, true, false}):\n                                    /* CIF task (1831, 300), (184, 35) */\n                                    task l3Mrt := inputData!l3Mrt;\n                                    /* CIF PROCEDURECALL (1674, 350), (498, 35) */\n                                    call CalculateResendTte(inputData!l3AckMissingStack, sentL3Stack, timeToEnd);\n                                    /* CIF output (1735, 400), (377, 35) */\n                                    output SendFrameCount(length(inputData!l3AckMissingStack));\n                                    /* CIF label (1859, 450), (129, 53) */\n                                    dataResending:\n                                    /* CIF task (1745, 518), (356, 53) */\n                                    task noOfMissingFrame := inputData!l3AckMissingStack(i),\nl3Data := sentL3Stack(noOfMissingFrame - 1),\ntimeToEnd := timeToEnd - length(l3Data);\n                                    /* CIF PROCEDURECALL (1756, 588), (334, 35) */\n                                    call IntegerTo8BitArray(noOfMissingFrame, l3Fnum);\n                                    /* CIF PROCEDURECALL (1788, 638), (271, 35) */\n                                    call IntegerTo16BitArray(timeToEnd, l3Tte);\n                                    /* CIF PROCEDURECALL (1735, 688), (376, 35) */\n                                    call CalculateFcs(ba, code, l3Tte, l3Mrt, l3Fnum, l3Data, ifcs);\n                                    /* CIF PROCEDURECALL (1822, 738), (202, 35) */\n                                    call InvertFcs(ifcs, invertedIfcs);\n                                    /* CIF PROCEDURECALL (1710, 788), (427, 35) */\n                                    call PackOperationData(l3Tte, l3Mrt, l3Fnum, l3Data, operationData);\n                                    /* CIF PROCEDURECALL (1729, 838), (388, 35) */\n                                    call PackInfo(ba, cntrl, code, operationData, invertedIfcs, info);\n                                    /* CIF output (1826, 888), (194, 35) */\n                                    output SendData(info);\n                                    /* CIF decision (1774, 938), (298, 50) */\n                                    decision i = length(inputData!l3AckMissingStack) - 1;\n                                        /* CIF ANSWER (1747, 1008), (70, 23) */\n                                        (true):\n                                            /* CIF return (1764, 1046), (35, 35) */\n                                            return ;\n                                        /* CIF ANSWER (2014, 1008), (70, 23) */\n                                        (false):\n                                            /* CIF task (1827, 1046), (444, 38) */\n                                            task i := if i = (length(inputData!l3AckMissingStack) - 1) then i else i + 1 fi;\n                                            /* CIF join (2031, 1099), (35, 35) */\n                                            join dataResending;\n                                    enddecision;\n                            enddecision;\n                    endstate;\n            endsubstructure;\n            state dataReceival;\n            substructure\n                    /* CIF TEXT (3475, 8), (357, 398) */\n                    -- Text area for declarations and comments\n                    \n                    DCL frameCounter My8BitArrayValueInteger := 0;\n                    \n                    DCL calculatedIfcs MyL3Fcs;\n                    \n                    DCL currentFrame My8BitArrayValueInteger := 0;\n                    DCL previousFrame My8BitArrayValueInteger := 0;\n                    \n                    DCL frameNumber My8BitArrayValueInteger;\n                    DCL timeToEnd My16BitArrayValueInteger;\n                    \n                    DCL receivedL3Data MyL3Stack;\n                    DCL receivedL3DataFrames MyL3StackNumbers;\n                    \n                    DCL l3MissingDataFrames MyL3MissingStack;\n                    \n                    DCL ackData MyAckData;\n                    \n                    DCL l3Lfn My8BitArray;\n                    DCL l3Hfn My8BitArray;\n                    \n                    DCL l3AckMissingStack MyL3AckMissingStack;\n                    \n                    DCL lastWrittenFrame My8BitArrayValueInteger := 1;\n                    DCL writableFrame My8BitArrayValueInteger := 1;\n                    /* CIF ENDTEXT */\n                    /* CIF procedure (46, 490), (197, 35) */\n                    procedure UnpackAckOperationData;\n                        /* CIF TEXT (525, 15), (287, 173) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in operationData MyOperationData,\n                          out l3Tte MyL3Tte,\n                          out l3Mrt MyL3Mrt,\n                          out l3Lfn MyL3Lfn,\n                          out l3Hfn MyL3Hfn,\n                          out l3Rrq MyL3Rrq;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (242, 0), (70, 35) */\n                        START;\n                            /* CIF task (124, 50), (306, 53) */\n                            task for i in range(0, length(operationData(0)), 1):\n  l3Tte(i) := operationData(0)(i)\nendfor;\n                            /* CIF task (124, 118), (306, 53) */\n                            task for i in range(0, length(operationData(1)), 1):\n  l3Tte(i+8) := operationData(1)(i)\nendfor;\n                            /* CIF task (124, 186), (306, 53) */\n                            task for i in range(0, length(operationData(2)), 1):\n  l3Mrt(i) := operationData(2)(i)\nendfor;\n                            /* CIF task (124, 256), (306, 53) */\n                            task for i in range(0, length(operationData(3)), 1):\n  l3Mrt(i+8) := operationData(3)(i)\nendfor;\n                            /* CIF task (124, 324), (306, 53) */\n                            task for i in range(0, length(operationData(4)), 1):\n  l3Lfn(i) := operationData(4)(i)\nendfor;\n                            /* CIF task (124, 392), (306, 53) */\n                            task for i in range(0, length(operationData(5)), 1):\n  l3Hfn(i) := operationData(5)(i)\nendfor;\n                            /* CIF task (131, 465), (291, 63) */\n                            task for i in range(6, length(operationData), 1):\n  l3Rrq(i - 6) := operationData(i)\nendfor;\n                            /* CIF return (259, 543), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (92, 439), (109, 35) */\n                    procedure InitialiseHfn;\n                        /* CIF TEXT (740, 12), (335, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3Hfn My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayValueInteger := 1;\n                        \n                        DCL highestFrame My8BitArrayValueInteger := 1;\n                        \n                        DCL frameNumber My8BitArray;\n                        /* CIF ENDTEXT */\n                        /* CIF START (330, 0), (70, 35) */\n                        START;\n                            /* CIF label (308, 50), (114, 51) */\n                            initialising:\n                            /* CIF decision (240, 116), (249, 50) */\n                            decision receivedL3DataFrames(i - 1) = true;\n                                /* CIF ANSWER (198, 186), (70, 23) */\n                                (true):\n                                    /* CIF task (152, 224), (162, 35) */\n                                    task highestFrame := i;\n                                /* CIF ANSWER (455, 186), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (242, 274), (245, 50) */\n                            decision i < length(receivedL3DataFrames);\n                                /* CIF ANSWER (94, 344), (70, 23) */\n                                (true):\n                                    /* CIF task (22, 382), (213, 35) */\n                                    task i := if i = 255 then i else i + 1 fi;\n                                    /* CIF join (111, 432), (35, 35) */\n                                    join initialising;\n                                /* CIF ANSWER (502, 344), (70, 23) */\n                                (false):\n                                    /* CIF PROCEDURECALL (360, 382), (354, 35) */\n                                    call DataIntegerTo8BitArray(highestFrame, frameNumber);\n                                    /* CIF task (452, 432), (170, 35) */\n                                    task l3Hfn := frameNumber;\n                                    /* CIF return (519, 482), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (93, 390), (107, 35) */\n                    procedure InitialiseLfn;\n                        /* CIF TEXT (769, 12), (326, 198) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3Lfn My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i MyL3StackInteger := 0;\n                        \n                        DCL frameNumber My8BitArray;\n                        /* CIF ENDTEXT */\n                        /* CIF START (376, 0), (70, 35) */\n                        START;\n                            /* CIF label (354, 50), (114, 51) */\n                            initialising:\n                            /* CIF decision (289, 116), (245, 50) */\n                            decision i < length(receivedL3DataFrames);\n                                /* CIF ANSWER (202, 186), (70, 23) */\n                                (true):\n                                    /* CIF decision (122, 224), (231, 50) */\n                                    decision receivedL3DataFrames(i) = true;\n                                        /* CIF ANSWER (71, 294), (70, 23) */\n                                        (true):\n                                            /* CIF task (0, 332), (213, 35) */\n                                            task i := if i = 255 then i else i + 1 fi;\n                                        /* CIF ANSWER (338, 294), (70, 23) */\n                                        (false):\n                                            /* CIF PROCEDURECALL (227, 332), (293, 35) */\n                                            call DataIntegerTo8BitArray(i + 1, frameNumber);\n                                            /* CIF task (289, 382), (168, 35) */\n                                            task l3Lfn := frameNumber;\n                                            /* CIF return (356, 432), (35, 35) */\n                                            return ;\n                                    enddecision;\n                                    /* CIF join (220, 482), (35, 35) */\n                                    join initialising;\n                                /* CIF ANSWER (548, 186), (70, 23) */\n                                (false):\n                                    /* CIF return (566, 224), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (74, 291), (150, 35) */\n                    procedure CheckMissingData\n                    /* CIF comment (244, 291), (152, 35) */\n                    comment 'Currently not used';\n                        /* CIF TEXT (521, 25), (326, 143) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3MissingData MyBoolean;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayValueInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (187, 0), (70, 35) */\n                        START;\n                            /* CIF label (175, 50), (93, 46) */\n                            checking:\n                            /* CIF decision (97, 111), (249, 50) */\n                            decision receivedL3DataFrames(i - 1) = true;\n                                /* CIF ANSWER (83, 181), (70, 23) */\n                                (true):\n                                    /* CIF decision (80, 219), (75, 50) */\n                                    decision i = 255;\n                                        /* CIF ANSWER (0, 289), (70, 23) */\n                                        (true):\n                                            /* CIF return (17, 327), (35, 35) */\n                                            return ;\n                                        /* CIF ANSWER (164, 289), (70, 23) */\n                                        (false):\n                                            /* CIF task (92, 327), (213, 35) */\n                                            task i := if i = 255 then i else i + 1 fi;\n                                            /* CIF join (181, 377), (35, 35) */\n                                            join checking;\n                                    enddecision;\n                                /* CIF ANSWER (364, 181), (70, 23) */\n                                (false):\n                                    /* CIF task (316, 219), (166, 35) */\n                                    task l3MissingData := true;\n                                    /* CIF return (381, 269), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (59, 240), (182, 35) */\n                    procedure ArrayOf16BitsToInteger;\n                        /* CIF TEXT (479, 13), (337, 183) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in bitArray My16BitArray,\n                          out inti My16BitArrayValueInteger;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 15;\n                        \n                        DCL bitValue My16BitArrayValueInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (186, 0), (70, 35) */\n                        START;\n                            /* CIF label (169, 50), (104, 46) */\n                            conversion:\n                            /* CIF task (0, 111), (443, 33) */\n                            task inti := if bitArray(i) = true then inti+bitValue else inti fi;\n                            /* CIF decision (186, 159), (70, 50) */\n                            decision i = 0;\n                                /* CIF ANSWER (82, 229), (70, 23) */\n                                (true):\n                                    /* CIF return (100, 267), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (289, 229), (70, 23) */\n                                (false):\n                                    /* CIF task (222, 267), (204, 38) */\n                                    task bitValue := bitValue * 2,\ni := if i = 0 then i else i - 1 fi;\n                                    /* CIF join (307, 320), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (62, 142), (174, 35) */\n                    procedure UnpackOperationData;\n                        /* CIF TEXT (525, 15), (287, 173) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in operationData MyOperationData,\n                          out l3Tte MyL3Tte,\n                          out l3Mrt MyL3Mrt,\n                          out l3Fnum MyL3Fnum,\n                          out l3Data MyL3Data;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (242, 0), (70, 35) */\n                        START;\n                            /* CIF task (124, 50), (306, 53) */\n                            task for i in range(0, length(operationData(0)), 1):\n  l3Tte(i) := operationData(0)(i)\nendfor;\n                            /* CIF task (124, 118), (306, 53) */\n                            task for i in range(0, length(operationData(1)), 1):\n  l3Tte(i+8) := operationData(1)(i)\nendfor;\n                            /* CIF task (124, 186), (306, 53) */\n                            task for i in range(0, length(operationData(2)), 1):\n  l3Mrt(i) := operationData(2)(i)\nendfor;\n                            /* CIF task (124, 256), (306, 53) */\n                            task for i in range(0, length(operationData(3)), 1):\n  l3Mrt(i+8) := operationData(3)(i)\nendfor;\n                            /* CIF task (124, 324), (306, 53) */\n                            task for i in range(0, length(operationData(4)), 1):\n  l3Fnum(i) := operationData(4)(i)\nendfor;\n                            /* CIF task (131, 395), (291, 63) */\n                            task for i in range(5, length(operationData), 1):\n  l3Data(i - 5) := operationData(i)\nendfor;\n                            /* CIF return (259, 473), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (95, 95), (112, 35) */\n                    procedure UnpackInfo;\n                        /* CIF TEXT (444, 15), (287, 198) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in info MyInfo,\n                          out ba MyBa,\n                          out cntrl MyCntrl,\n                          out code MyCode,\n                          out operationData MyOperationData,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (195, 0), (70, 35) */\n                        START;\n                            /* CIF task (99, 50), (262, 93) */\n                            task ba := info!ba,\ncntrl := info!cntrl,\ncode := info!code,\noperationData := info!operationData,\nifcs := info!ifcs;\n                            /* CIF return (212, 158), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (62, 190), (175, 35) */\n                    procedure ArrayOf8BitsToInteger;\n                        /* CIF TEXT (513, 15), (337, 183) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in bitArray My8BitArray,\n                          out inti My8BitArrayValueInteger;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayInteger := 7;\n                        \n                        DCL bitValue My8BitArrayValueInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (186, 0), (70, 35) */\n                        START;\n                            /* CIF label (169, 50), (104, 46) */\n                            conversion:\n                            /* CIF task (0, 111), (443, 33) */\n                            task inti := if bitArray(i) = true then inti+bitValue else inti fi;\n                            /* CIF decision (186, 159), (70, 50) */\n                            decision i = 0;\n                                /* CIF ANSWER (87, 229), (70, 23) */\n                                (true):\n                                    /* CIF return (105, 267), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (277, 229), (70, 23) */\n                                (false):\n                                    /* CIF task (183, 267), (258, 38) */\n                                    task bitValue := bitValue * 2,\ni := if i = 0 then i else i - 1 fi;\n                                    /* CIF join (295, 320), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (67, 341), (161, 35) */\n                    procedure InitialiseMissingData;\n                        /* CIF TEXT (997, 19), (326, 218) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3Data MyL3Stack,\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3MissingDataFrames MyL3MissingStack;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i MyL3StackInteger := 0;\n                        \n                        DCL frameCount My8BitArrayValueInteger := 1;\n                        \n                        DCL frameNumber My8BitArray;\n                        /* CIF ENDTEXT */\n                        /* CIF START (636, 0), (70, 35) */\n                        START;\n                            /* CIF label (622, 50), (98, 46) */\n                            initialising:\n                            /* CIF decision (549, 111), (245, 50) */\n                            decision i < length(receivedL3DataFrames);\n                                /* CIF ANSWER (414, 181), (70, 23) */\n                                (true):\n                                    /* CIF decision (332, 219), (234, 50) */\n                                    decision receivedL3DataFrames(i) = false;\n                                        /* CIF ANSWER (211, 289), (70, 23) */\n                                        (true):\n                                            /* CIF PROCEDURECALL (110, 327), (273, 35) */\n                                            call DataIntegerTo8BitArray(i, frameNumber);\n                                            /* CIF task (0, 377), (493, 38) */\n                                            task l3MissingDataFrames(frameCount - 1) := frameNumber,\nframeCount := if frameCount = 255 then frameCount else frameCount + 1 fi;\n                                        /* CIF ANSWER (621, 289), (70, 23) */\n                                        (false):\n                                    enddecision;\n                                /* CIF ANSWER (876, 181), (70, 23) */\n                                (false):\n                                    /* CIF return (894, 219), (35, 35) */\n                                    return ;\n                            enddecision;\n                            /* CIF task (565, 445), (213, 35) */\n                            task i := if i = 255 then i else i + 1 fi;\n                            /* CIF join (654, 495), (35, 35) */\n                            join initialising;\n                    endprocedure;\n                    /* CIF procedure (40, 539), (215, 35) */\n                    procedure InitialiseMissingDataNumbers;\n                        /* CIF TEXT (470, 10), (320, 173) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3Rrq MyL3Rrq,\n                          out l3AckMissingStack MyL3AckMissingStack;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i MyL3AckMissingStackInteger := 0;\n                        \n                        DCL frameNumber My8BitArrayValueInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (155, 0), (70, 35) */\n                        START;\n                            /* CIF label (141, 50), (98, 45) */\n                            initialising:\n                            /* CIF PROCEDURECALL (32, 110), (316, 35) */\n                            call ArrayOf8BitsToInteger(l3Rrq(i), frameNumber);\n                            /* CIF task (57, 160), (265, 35) */\n                            task l3AckMissingStack(i) := frameNumber;\n                            /* CIF decision (113, 210), (154, 50) */\n                            decision i = length(l3Rrq) - 1;\n                                /* CIF ANSWER (8, 280), (70, 23) */\n                                (true):\n                                    /* CIF return (25, 318), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (313, 280), (70, 23) */\n                                (false):\n                                    /* CIF task (202, 318), (292, 35) */\n                                    task i := if i = length(l3Rrq) - 1 then i else i + 1 fi;\n                                    /* CIF join (330, 368), (35, 35) */\n                                    join initialising;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (72, 587), (141, 35) */\n                    procedure InitialiseRawData;\n                        /* CIF TEXT (575, 13), (344, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in lastWrittenFrame My8BitArrayValueInteger, \n                          in writableFrame My8BitArrayValueInteger,\n                          in receivedL3Data MyL3Stack,\n                          out rawData MyRawData;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL octetNumber MyRawDataInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (244, 0), (70, 35) */\n                        START;\n                            /* CIF task (0, 50), (559, 98) */\n                            task for i in range(lastWrittenFrame - 1, length(l3Lfn), 1):\n  for j in range(0, length(receivedL3Data(i)), 1):\n    rawData(octetNumber - 1) := receivedL3Data(i)(j)\n    octetNumber := if octetNumber = 62475 then octetNumber else octetNumber + 1 fi\n   endfor\nendfor;\n                            /* CIF return (262, 163), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (58, 666), (169, 35) */\n                    procedure DataIntegerTo8BitArray;\n                        /* CIF TEXT (528, 10), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My8BitArrayValueInteger,\n                          out bitArray My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayInteger := 0;\n                        \n                        DCL value My8BitArrayValueInteger := 0;\n                        DCL bitValue My8BitArrayValueInteger := 255;\n                        /* CIF ENDTEXT */\n                        /* CIF START (192, 1), (70, 35) */\n                        START;\n                            /* CIF task (160, 51), (135, 35) */\n                            task value := inti;\n                            /* CIF label (175, 101), (104, 46) */\n                            conversion:\n                            /* CIF task (25, 162), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (190, 225), (75, 50) */\n                            decision i = 7;\n                                /* CIF ANSWER (316, 295), (70, 23) */\n                                (true):\n                                    /* CIF return (334, 333), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (64, 295), (70, 23) */\n                                (false):\n                                    /* CIF task (0, 333), (199, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 7 then i else i + 1 fi;\n                                    /* CIF join (82, 386), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (77, 714), (131, 35) */\n                    procedure DataCalculateFcs;\n                        /* CIF TEXT (1092, 13), (289, 368) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Fnum MyL3Fnum,\n                          in l3Data MyL3Data,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3DataStack MyL3DataStack;\n                        \n                        DCL l3FcsStack MyL3FcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (611, 0), (70, 35) */\n                        START;\n                            /* CIF task (539, 50), (214, 63) */\n                            task for i in range(0, 4, 1):\n  l3FcsStack(i) := ba!srcAddr(i)\nendfor;\n                            /* CIF task (529, 133), (234, 63) */\n                            task for i in range(4, 8, 1):\n  l3FcsStack(i) := ba!dstAddr(i - 4)\nendfor;\n                            /* CIF task (548, 211), (196, 63) */\n                            task for i in range(8, 16, 1):\n  l3FcsStack(i) := code(i - 8)\nendfor;\n                            /* CIF task (544, 295), (204, 63) */\n                            task for i in range(16, 24, 1):\n  l3FcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (544, 383), (204, 63) */\n                            task for i in range(24, 32, 1):\n  l3FcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (543, 471), (205, 63) */\n                            task for i in range(32, 40, 1):\n  l3FcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (543, 559), (205, 63) */\n                            task for i in range(40, 48, 1):\n  l3FcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (538, 642), (215, 63) */\n                            task for i in range(48, 56, 1):\n  l3FcsStack(i) := l3Fnum(i - 48)\nendfor;\n                            /* CIF task (508, 720), (276, 83) */\n                            task for i in range(0, length(l3Data), 1):\n  for j in range(0, length(l3Data(i)), 1):\n    l3DataStack((i*8)+j) := l3Data(i)(j)\n  endfor\nendfor\n                            /* CIF comment (804, 744), (224, 35) */\n                            comment 'Array of octets to array of bits';\n                            /* CIF task (491, 823), (310, 63) */\n                            task for i in range(56, length(l3DataStack) + 56, 1):\n  l3FcsStack(i) := l3DataStack(i - 56)\nendfor;\n                            /* CIF task (428, 901), (435, 63) */\n                            task for i in range(length(l3DataStack)+56, length(l3DataStack)+72, 1):\n  l3FcsStack(i) := false\nendfor;\n                            /* CIF task (260, 986), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (593, 1036), (105, 48) */\n                            calculation:\n                            /* CIF decision (566, 1099), (159, 50) */\n                            decision l3FcsStack(k) = true;\n                                /* CIF ANSWER (409, 1169), (70, 23) */\n                                (true):\n                                    /* CIF task (56, 1207), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (131, 1257), (625, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3FcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (770, 1273), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (287, 1355), (313, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3FcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (616, 1371), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (906, 1169), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (467, 1438), (358, 63) */\n                            decision k = length(l3FcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (268, 1521), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1559), (606, 68) */\n                                    task for l in range(length(l3FcsStack) - (length(l3FcsPolynomial) - 2), length(l3FcsStack), 1):\n  position := l - (length(l3FcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3FcsStack(l)\nendfor;\n                                    /* CIF return (285, 1642), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (832, 1521), (70, 23) */\n                                (false):\n                                    /* CIF task (749, 1559), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1004, 1496), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (849, 1609), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (87, 762), (108, 35) */\n                    procedure DataInvertFcs;\n                        /* CIF TEXT (267, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ifcs MyIfcs,\n                          out invertedIfcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (82, 0), (70, 35) */\n                        START;\n                            /* CIF task (5, 50), (223, 53) */\n                            task for ii in range(0, length(ifcs), 1):\n  invertedIfcs(15-ii) := ifcs(ii)\nendfor;\n                            /* CIF return (99, 118), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (66, 811), (154, 35) */\n                    procedure DataCalculateAckFcs;\n                        /* CIF TEXT (1109, 13), (289, 383) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Lfn MyL3Lfn,\n                          in l3Hfn MyL3Hfn,\n                          in l3Rrq MyL3Rrq,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3AckDataStack MyL3AckDataStack;\n                        \n                        DCL l3AckFcsStack MyL3AckFcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (628, 0), (70, 35) */\n                        START;\n                            /* CIF task (545, 50), (237, 63) */\n                            task for i in range(0, 4, 1):\n  l3AckFcsStack(i) := ba!srcAddr(i)\nendfor;\n                            /* CIF task (535, 133), (257, 63) */\n                            task for i in range(4, 8, 1):\n  l3AckFcsStack(i) := ba!dstAddr(i - 4)\nendfor;\n                            /* CIF task (554, 211), (219, 63) */\n                            task for i in range(8, 16, 1):\n  l3AckFcsStack(i) := code(i - 8)\nendfor;\n                            /* CIF task (550, 295), (227, 63) */\n                            task for i in range(16, 24, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (550, 383), (227, 63) */\n                            task for i in range(24, 32, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (549, 471), (228, 63) */\n                            task for i in range(32, 40, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (549, 559), (228, 63) */\n                            task for i in range(40, 48, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (551, 637), (225, 53) */\n                            task for i in range(48, 56, 1):\n  l3AckFcsStack(i) := l3Lfn(i - 48)\nendfor;\n                            /* CIF task (550, 709), (227, 53) */\n                            task for i in range(56, 64, 1):\n  l3AckFcsStack(i) := l3Hfn(i - 56)\nendfor;\n                            /* CIF task (534, 783), (259, 93) */\n                            task for i in range(0, length(l3Rrq), 1):\n  for j in range(0, length(l3Rrq(i)), 1):\n    l3AckDataStack((i*8)+j) := l3Rrq(i)(j)\n  endfor\nendfor;\n                            /* CIF task (497, 894), (333, 63) */\n                            task for i in range(64, length(l3AckDataStack) + 64, 1):\n  l3AckFcsStack(i) := l3AckDataStack(i - 72)\nendfor;\n                            /* CIF task (423, 975), (481, 63) */\n                            task for i in range(length(l3AckDataStack)+64, length(l3AckDataStack)+80, 1):\n  l3AckFcsStack(i) := false\nendfor;\n                            /* CIF task (278, 1060), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (611, 1110), (105, 48) */\n                            calculation:\n                            /* CIF decision (572, 1173), (182, 50) */\n                            decision l3AckFcsStack(k) = true;\n                                /* CIF ANSWER (352, 1243), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1281), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (63, 1331), (648, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3AckFcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (725, 1348), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (232, 1415), (311, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3AckFcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (560, 1432), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (907, 1243), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (473, 1498), (381, 63) */\n                            decision k = length(l3AckFcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (285, 1581), (70, 23) */\n                                (true):\n                                    /* CIF task (17, 1619), (607, 68) */\n                                    task for l in range(length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2), length(l3AckFcsStack), 1):\n  position := l - (length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3AckFcsStack(l)\nendfor;\n                                    /* CIF return (303, 1710), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (859, 1581), (70, 23) */\n                                (false):\n                                    /* CIF task (776, 1619), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1029, 1619), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (877, 1669), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF START (118, 0), (70, 35) */\n                    START;\n                        /* CIF NEXTSTATE (71, 50), (164, 35) */\n                        NEXTSTATE frameCountReceival;\n                    /* CIF state (325, 0), (164, 35) */\n                    state frameCountReceival;\n                        /* CIF input (286, 55), (243, 35) */\n                        input ReceiveFrameCount(frameCount);\n                            /* CIF NEXTSTATE (348, 110), (119, 35) */\n                            NEXTSTATE dataReceival;\n                    endstate;\n                    /* CIF state (1702, 1), (119, 35) */\n                    state dataReceival;\n                        /* CIF input (1655, 56), (213, 35) */\n                        input ReceiveData(info);\n                            /* CIF task (1489, 106), (545, 35) */\n                            task frameCounter := if frameCounter = 255 then frameCounter else frameCounter + 1 fi;\n                            /* CIF PROCEDURECALL (1585, 156), (352, 35) */\n                            call UnpackInfo(info, ba, cntrl, code, operationData, ifcs);\n                            /* CIF decision (1703, 206), (117, 50) */\n                            decision code;\n                                /* CIF ANSWER (406, 276), (336, 23) */\n                                ({false, false, false, false, false, false, false, false}):\n                                    /* CIF return (556, 314), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (1595, 276), (333, 23) */\n                                ({false, false, false, false, false, false, false, true}):\n                                    /* CIF PROCEDURECALL (1540, 314), (443, 35) */\n                                    call UnpackOperationData(operationData, l3Tte, l3Mrt, l3Fnum, l3Data);\n                                    /* CIF PROCEDURECALL (1603, 364), (316, 35) */\n                                    call ArrayOf8BitsToInteger(l3Fnum, frameNumber);\n                                    /* CIF task (1651, 414), (221, 35) */\n                                    task currentFrame := frameNumber;\n                                    /* CIF PROCEDURECALL (1532, 464), (458, 35) */\n                                    call DataCalculateFcs(ba, code, l3Tte, l3Mrt, l3Fnum, l3Data, calculatedIfcs);\n                                    /* CIF PROCEDURECALL (1619, 514), (284, 35) */\n                                    call DataInvertFcs(calculatedIfcs, invertedIfcs);\n                                    /* CIF decision (1620, 564), (282, 50) */\n                                    decision invertedIfcs = ifcs;\n                                        /* CIF ANSWER (1160, 634), (70, 23) */\n                                        (true):\n                                            /* CIF decision (1071, 672), (247, 50) */\n                                            decision currentFrame = previousFrame + 1;\n                                                /* CIF ANSWER (891, 742), (70, 23) */\n                                                (true):\n                                                /* CIF ANSWER (1304, 742), (70, 23) */\n                                                (false):\n                                                    /* CIF task (971, 780), (735, 53) */\n                                                    task for i in range(previousFrame, currentFrame, 1):\n  receivedL3DataFrames(i - 1) := if receivedL3DataFrames(i - 1) = true then receivedL3DataFrames(i - 1) else false fi\nendfor\n                                                    /* CIF comment (1726, 789), (386, 35) */\n                                                    comment 'Frames between current and previous frame went missing';\n                                            enddecision;\n                                            /* CIF task (1027, 848), (335, 53) */\n                                            task receivedL3Data(currentFrame - 1) := l3Data,\nreceivedL3DataFrames(currentFrame - 1) := true,\npreviousFrame := currentFrame\n                                            /* CIF comment (1382, 780), (180, 35) */\n                                            comment 'Current frame is stored';\n                                            /* CIF decision (1090, 916), (210, 50) */\n                                            decision frameCounter = frameCount;\n                                                /* CIF ANSWER (992, 986), (70, 23) */\n                                                (true):\n                                                    /* CIF PROCEDURECALL (753, 1024), (547, 35) */\n                                                    call InitialiseMissingData(receivedL3Data, receivedL3DataFrames, l3MissingDataFrames);\n                                                    /* CIF PROCEDURECALL (881, 1074), (292, 35) */\n                                                    call InitialiseLfn(receivedL3DataFrames, l3Lfn);\n                                                    /* CIF PROCEDURECALL (879, 1124), (296, 35) */\n                                                    call InitialiseHfn(receivedL3DataFrames, l3Hfn);\n                                                    /* CIF PROCEDURECALL (873, 1174), (307, 35) */\n                                                    call ArrayOf8BitsToInteger(l3Lfn, writableFrame);\n                                                    /* CIF PROCEDURECALL (772, 1224), (509, 35) */\n                                                    call InitialiseRawData(lastWrittenFrame, writableFrame, receivedL3Data, rawData);\n                                                    /* CIF task (898, 1274), (258, 53) */\n                                                    task inputData!ba!srcAddr := ba!srcAddr,\ninputData!ba!dstAddr := ba!dstAddr,\ninputData!rawData := rawData;\n                                                    /* CIF output (931, 1342), (192, 35) */\n                                                    output WriteRawData(inputData);\n                                                    /* CIF task (902, 1392), (249, 35) */\n                                                    task lastWrittenFrame := writableFrame;\n                                                    /* CIF task (808, 1442), (437, 113) */\n                                                    task ackData!ba!srcAddr := ba!dstAddr,\nackData!ba!dstAddr := ba!srcAddr,\nackData!code := {false, false, false, false, false, false, true, false},\nackData!l3Mrt := l3Mrt,\nackData!l3Lfn := l3Lfn,\nackData!l3Hfn := l3Hfn,\nackData!l3MissingData := l3MissingDataFrames;\n                                                    /* CIF output (952, 1570), (149, 35) */\n                                                    output SendAck(ackData);\n                                                    /* CIF return (1009, 1620), (35, 35) */\n                                                    return ;\n                                                /* CIF ANSWER (1387, 986), (70, 23) */\n                                                (false):\n                                            enddecision;\n                                        /* CIF ANSWER (2257, 634), (70, 23) */\n                                        (false):\n                                            /* CIF task (2122, 672), (339, 38) */\n                                            task receivedL3DataFrames(currentFrame - 1) := false,\npreviousFrame := currentFrame\n                                            /* CIF comment (2480, 674), (137, 35) */\n                                            comment 'Frame is corrupt';\n                                    enddecision;\n                                    /* CIF PROCEDURECALL (1615, 1685), (292, 35) */\n                                    call ArrayOf16BitsToInteger(l3Tte, timeToEnd);\n                                    /* CIF decision (1698, 1735), (126, 43) */\n                                    decision timeToEnd > 0\n                                    /* CIF comment (1845, 1695), (283, 35) */\n                                    comment 'What if last frame has TTE bigger than 0?';\n                                        /* CIF ANSWER (1549, 1798), (70, 23) */\n                                        (true):\n                                        /* CIF ANSWER (1915, 1798), (70, 23) */\n                                        (false):\n                                            /* CIF PROCEDURECALL (1676, 1836), (547, 35) */\n                                            call InitialiseMissingData(receivedL3Data, receivedL3DataFrames, l3MissingDataFrames);\n                                            /* CIF PROCEDURECALL (1804, 1886), (292, 35) */\n                                            call InitialiseLfn(receivedL3DataFrames, l3Lfn);\n                                            /* CIF PROCEDURECALL (1802, 1936), (296, 35) */\n                                            call InitialiseHfn(receivedL3DataFrames, l3Hfn);\n                                            /* CIF PROCEDURECALL (1796, 1986), (307, 35) */\n                                            call ArrayOf8BitsToInteger(l3Lfn, writableFrame);\n                                            /* CIF PROCEDURECALL (1695, 2036), (509, 35) */\n                                            call InitialiseRawData(lastWrittenFrame, writableFrame, receivedL3Data, rawData);\n                                            /* CIF task (1821, 2086), (258, 53) */\n                                            task inputData!ba!srcAddr := ba!srcAddr,\ninputData!ba!dstAddr := ba!dstAddr,\ninputData!rawData := rawData;\n                                            /* CIF output (1854, 2154), (192, 35) */\n                                            output WriteRawData(inputData);\n                                            /* CIF task (1825, 2204), (249, 35) */\n                                            task lastWrittenFrame := writableFrame;\n                                            /* CIF task (1731, 2254), (437, 113) */\n                                            task ackData!ba!srcAddr := ba!dstAddr,\nackData!ba!dstAddr := ba!srcAddr,\nackData!code := {false, false, false, false, false, false, true, false},\nackData!l3Mrt := l3Mrt,\nackData!l3Lfn := l3Lfn,\nackData!l3Hfn := l3Hfn,\nackData!l3MissingData := l3MissingDataFrames;\n                                            /* CIF output (1875, 2382), (149, 35) */\n                                            output SendAck(ackData);\n                                            /* CIF return (1932, 2432), (35, 35) */\n                                            return ;\n                                    enddecision;\n                                /* CIF ANSWER (3053, 276), (333, 23) */\n                                ({false, false, false, false, false, false, true, false}):\n                                    /* CIF PROCEDURECALL (2974, 314), (491, 35) */\n                                    call UnpackAckOperationData(operationData, l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq);\n                                    /* CIF PROCEDURECALL (2970, 364), (498, 35) */\n                                    call DataCalculateAckFcs(ba, code, l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq, calculatedIfcs);\n                                    /* CIF PROCEDURECALL (3077, 414), (284, 35) */\n                                    call DataInvertFcs(calculatedIfcs, invertedIfcs);\n                                    /* CIF decision (3147, 464), (145, 50) */\n                                    decision invertedIfcs = ifcs;\n                                        /* CIF ANSWER (3059, 534), (70, 23) */\n                                        (true):\n                                            /* CIF decision (3024, 572), (140, 50) */\n                                            decision length(l3Rrq) > 0;\n                                                /* CIF ANSWER (2881, 642), (70, 23) */\n                                                (true):\n                                                    /* CIF PROCEDURECALL (2729, 680), (373, 35) */\n                                                    call InitialiseMissingDataNumbers(l3Rrq, l3AckMissingStack);\n                                                    /* CIF task (2692, 730), (447, 83) */\n                                                    task inputData!ba!srcAddr := ba!dstAddr,\ninputData!ba!dstAddr := ba!srcAddr,\ninputData!code := {false, false, false, false, false, false, true, false},\ninputData!l3Mrt := l3Mrt,\ninputData!l3AckMissingStack := l3AckMissingStack;\n                                                    /* CIF output (2814, 832), (204, 35) */\n                                                    output ResendRawData(inputData);\n                                                    /* CIF return (2898, 882), (35, 35) */\n                                                    return ;\n                                                /* CIF ANSWER (3281, 642), (70, 23) */\n                                                (false):\n                                                    /* CIF return (3298, 680), (35, 35) */\n                                                    return ;\n                                            enddecision;\n                                        /* CIF ANSWER (3379, 534), (70, 23) */\n                                        (false):\n                                            /* CIF return (3396, 572), (35, 35) */\n                                            return ;\n                                    enddecision;\n                            enddecision;\n                            /* CIF NEXTSTATE (1702, 2497), (119, 35) */\n                            NEXTSTATE dataReceival;\n                    endstate;\n            endsubstructure;\n            /* CIF state (186, 120), (119, 35) */\n            state dataReceival;\n            endstate;\n            /* CIF state (176, 24), (141, 35) */\n            state rawDataReceival;\n            endstate;\n            /* CIF state (144, 72), (204, 35) */\n            state acknowledgementReceival;\n            endstate;\n    endsubstructure;\n    /* CIF TEXT (724, 22), (300, 428) */\n    -- Text area for declarations and comments\n    \n    DCL inputData MyInputData;\n    \n    DCL info MyInfo;\n    \n    DCL ba MyBa;\n    DCL cntrl MyCntrl;\n    DCL code MyCode;\n    DCL operationData MyOperationData;\n    DCL ifcs MyIfcs;\n    \n    DCL invertedIfcs MyIfcs;\n    \n    DCL frameCount My8BitArrayValueInteger;\n    \n    DCL l3Tte MyL3Tte;\n    DCL l3Mrt MyL3Mrt;\n    DCL l3Fnum MyL3Fnum;\n    DCL l3Data MyL3Data;\n    \n    DCL rawData MyRawData;\n    \n    DCL ackData MyAckData;\n    \n    DCL l3Lfn MyL3Lfn;\n    DCL l3Hfn MyL3Hfn;\n    DCL l3Rrq MyL3Rrq;\n    /* CIF ENDTEXT */\n    /* CIF START (320, 10), (70, 35) */\n    START;\n        /* CIF label (314, 60), (81, 38) */\n        waiting:\n        /* CIF NEXTSTATE (320, 116), (70, 35) */\n        NEXTSTATE Wait;\n    /* CIF state (520, 10), (70, 35) */\n    state Wait;\n    endstate;\n'
org.antlr.v4.runtime.misc.ParseCancellationException: line 8:20 no viable alternative at input '/* CIF TEXT (867, 11), (275, 140) */\n                    -- Text area for declarations and comments\n                    \n                    DCL l3RrqPosition MyL3RrqInteger;\n                    /* CIF ENDTEXT */\n                    /* CIF procedure (52, 145), (181, 35) */\n                    procedure PackAckOperationData;\n                        /* CIF TEXT (429, 13), (287, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Lfn MyL3Lfn,\n                          in l3Hfn MyL3Hfn,\n                          in l3Data MyL3Rrq,\n                          out operationData MyOperationData;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (138, 1), (70, 35) */\n                        START;\n                            /* CIF task (20, 51), (306, 53) */\n                            task for i in range(0, length(operationData(0)), 1):\n  operationData(0)(i) := l3Tte(i)\nendfor;\n                            /* CIF task (20, 119), (306, 53) */\n                            task for i in range(0, length(operationData(1)), 1):\n  operationData(1)(i) := l3Tte(i + 8)\nendfor;\n                            /* CIF task (20, 187), (306, 53) */\n                            task for i in range(0, length(operationData(2)), 1):\n  operationData(2)(i) := l3Mrt(i)\nendfor;\n                            /* CIF task (20, 255), (306, 53) */\n                            task for i in range(0, length(operationData(3)), 1):\n  operationData(3)(i) := l3Mrt(i + 8)\nendfor;\n                            /* CIF task (20, 323), (306, 53) */\n                            task for i in range(0, length(operationData(4)), 1):\n  operationData(4)(i) := l3Lfn(i)\nendfor;\n                            /* CIF task (20, 391), (306, 53) */\n                            task for i in range(0, length(operationData(5)), 1):\n  operationData(5)(i) := l3Hfn(i)\nendfor;\n                            /* CIF task (46, 459), (254, 63) */\n                            task for i in range(6, length(l3Rrq) + 6, 1):\n  operationData(i) := l3Rrq(i - 6)\nendfor;\n                            /* CIF return (155, 543), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (74, 98), (140, 35) */\n                    procedure CalculateAckFcs;\n                        /* CIF TEXT (1109, 13), (289, 383) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Lfn MyL3Lfn,\n                          in l3Hfn MyL3Hfn,\n                          in l3Rrq MyL3Rrq,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3AckDataStack MyL3AckDataStack;\n                        \n                        DCL l3AckFcsStack MyL3AckFcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (628, 0), (70, 35) */\n                        START;\n                            /* CIF task (545, 50), (237, 63) */\n                            task for i in range(0, 4, 1):\n  l3AckFcsStack(i) := ba!srcAddr(i)\nendfor;\n                            /* CIF task (535, 133), (257, 63) */\n                            task for i in range(4, 8, 1):\n  l3AckFcsStack(i) := ba!dstAddr(i - 4)\nendfor;\n                            /* CIF task (554, 211), (219, 63) */\n                            task for i in range(8, 16, 1):\n  l3AckFcsStack(i) := code(i - 8)\nendfor;\n                            /* CIF task (550, 295), (227, 63) */\n                            task for i in range(16, 24, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (550, 383), (227, 63) */\n                            task for i in range(24, 32, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (549, 471), (228, 63) */\n                            task for i in range(32, 40, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (549, 559), (228, 63) */\n                            task for i in range(40, 48, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (551, 637), (225, 53) */\n                            task for i in range(48, 56, 1):\n  l3AckFcsStack(i) := l3Lfn(i - 48)\nendfor;\n                            /* CIF task (550, 709), (227, 53) */\n                            task for i in range(56, 64, 1):\n  l3AckFcsStack(i) := l3Hfn(i - 56)\nendfor;\n                            /* CIF task (534, 783), (259, 93) */\n                            task for i in range(0, length(l3Rrq), 1):\n  for j in range(0, length(l3Rrq(i)), 1):\n    l3AckDataStack((i*8)+j) := l3Rrq(i)(j)\n  endfor\nendfor;\n                            /* CIF task (497, 894), (333, 63) */\n                            task for i in range(64, length(l3AckDataStack) + 64, 1):\n  l3AckFcsStack(i) := l3AckDataStack(i - 72)\nendfor;\n                            /* CIF task (423, 975), (481, 63) */\n                            task for i in range(length(l3AckDataStack)+64, length(l3AckDataStack)+80, 1):\n  l3AckFcsStack(i) := false\nendfor;\n                            /* CIF task (278, 1060), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (611, 1110), (105, 48) */\n                            calculation:\n                            /* CIF decision (572, 1173), (182, 50) */\n                            decision l3AckFcsStack(k) = true;\n                                /* CIF ANSWER (352, 1243), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1281), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (63, 1331), (648, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3AckFcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (725, 1348), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (232, 1415), (311, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3AckFcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (560, 1432), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (907, 1243), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (473, 1498), (381, 63) */\n                            decision k = length(l3AckFcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (285, 1581), (70, 23) */\n                                (true):\n                                    /* CIF task (17, 1619), (607, 68) */\n                                    task for l in range(length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2), length(l3AckFcsStack), 1):\n  position := l - (length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3AckFcsStack(l)\nendfor;\n                                    /* CIF return (303, 1710), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (859, 1581), (70, 23) */\n                                (false):\n                                    /* CIF task (776, 1619), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1029, 1619), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (877, 1669), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (57, 221), (170, 35) */\n                    procedure AckIntegerTo16BitArray;\n                        /* CIF TEXT (696, 13), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My16BitArrayValueInteger,\n                          out bitArray My16BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        \n                        DCL value My16BitArrayValueInteger := 0;\n                        DCL bitValue My16BitArrayValueInteger := 65535;\n                        /* CIF ENDTEXT */\n                        /* CIF START (345, 0), (70, 35) */\n                        START;\n                            /* CIF task (312, 50), (135, 35) */\n                            task value := inti;\n                            /* CIF label (328, 100), (104, 48) */\n                            conversion:\n                            /* CIF task (177, 163), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (342, 226), (75, 50) */\n                            decision i = 15;\n                                /* CIF ANSWER (189, 296), (70, 23) */\n                                (true):\n                                    /* CIF return (206, 334), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (503, 297), (70, 23) */\n                                (false):\n                                    /* CIF task (435, 335), (206, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 15 then i else i + 1 fi;\n                                    /* CIF join (520, 388), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (89, 270), (102, 35) */\n                    procedure AckInvertFcs;\n                        /* CIF TEXT (267, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ifcs MyIfcs,\n                          out invertedIfcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (82, 0), (70, 35) */\n                        START;\n                            /* CIF task (5, 50), (223, 53) */\n                            task for ii in range(0, length(ifcs), 1):\n  invertedIfcs(15-ii) := ifcs(i)\nendfor;\n                            /* CIF return (99, 118), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (89, 319), (98, 35) */\n                    procedure AckPackInfo;\n                        /* CIF TEXT (439, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in cntrl MyCntrl,\n                          in code MyCode,\n                          in operationData MyOperationData,\n                          in ifcs MyIfcs,\n                          out info MyInfo;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (143, 0), (70, 35) */\n                        START;\n                            /* CIF task (47, 50), (262, 93) */\n                            task info!ba := ba,\ninfo!cntrl := cntrl,\ninfo!code := code,\ninfo!operationData := operationData,\ninfo!ifcs := ifcs;\n                            /* CIF return (160, 158), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF START (111, 1), (70, 35) */\n                    START;\n                        /* CIF NEXTSTATE (44, 51), (204, 35) */\n                        NEXTSTATE acknowledgementReceival;\n                    /* CIF state (528, 1), (204, 35) */\n                    state acknowledgementReceival;\n                        /* CIF input (548, 56), (165, 35) */\n                        input receiveAck(ackData);\n                            /* CIF task (438, 110), (384, 63) */\n                            task ba := ackData!ba,\ncntrl := { false, false, false, false, false, false, true, true },\ncode := ackData!code;\n                            /* CIF task (542, 198), (177, 53) */\n                            task l3Mrt := ackData!l3Mrt,\nl3Lfn := ackData!l3Lfn,\nl3Hfn := ackData!l3Hfn;\n                            /* CIF decision (484, 271), (292, 50) */\n                            decision length(ackData!l3MissingData) < 244;\n                                /* CIF ANSWER (338, 341), (70, 23) */\n                                (true):\n                                    /* CIF task (208, 379), (329, 68) */\n                                    task for i in range(0, length(ackData!l3MissingData), 1):\n  l3RrqPosition := i\n  l3Rrq(l3RrqPosition) := ackData!l3MissingData(i)\nendfor;\n                                    /* CIF output (294, 477), (158, 35) */\n                                    output SendFrameCount(1);\n                                    /* CIF PROCEDURECALL (261, 527), (224, 33) */\n                                    call AckIntegerTo16BitArray(0, l3Tte);\n                                    /* CIF PROCEDURECALL (165, 575), (416, 35) */\n                                    call CalculateAckFcs(ba, code, l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq, ifcs);\n                                    /* CIF PROCEDURECALL (268, 625), (210, 35) */\n                                    call AckInvertFcs(ifcs, invertedIfcs);\n                                    /* CIF PROCEDURECALL (139, 675), (467, 35) */\n                                    call PackAckOperationData(l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq, operationData);\n                                    /* CIF PROCEDURECALL (175, 725), (396, 35) */\n                                    call AckPackInfo(ba, cntrl, code, operationData, invertedIfcs, info);\n                                    /* CIF output (276, 775), (194, 35) */\n                                    output SendData(info);\n                                    /* CIF return (355, 825), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (853, 341), (70, 23) */\n                                (false):\n                                    /* CIF return (870, 379), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endstate;\n            endsubstructure;\n            state rawDataReceival;\n            substructure\n                    /* CIF TEXT (1497, 16), (339, 203) */\n                    -- Text area for declarations and comments\n                    \n                    DCL l3Stack MyL3Stack;\n                    \n                    DCL noOfFrame My8BitArrayValueInteger := 0;\n                    DCL timeToEnd MyRawDataInteger;\n                    \n                    DCL sentL3Stack MyL3Stack;\n                    DCL noOfSentFrames MyL3StackInteger := 0;\n                    \n                    DCL i MyL3AckMissingStackInteger := 0;\n                    \n                    DCL noOfMissingFrame My8BitArrayValueInteger;\n                    /* CIF ENDTEXT */\n                    /* CIF procedure (465, 144), (154, 35) */\n                    procedure IntegerTo8BitArray;\n                        /* CIF TEXT (528, 10), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My8BitArrayValueInteger,\n                          out bitArray My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayInteger := 0;\n                        \n                        DCL value My8BitArrayValueInteger := 0;\n                        DCL bitValue My8BitArrayValueInteger := 255;\n                        /* CIF ENDTEXT */\n                        /* CIF START (192, 1), (70, 35) */\n                        START;\n                            /* CIF task (160, 51), (135, 35) */\n                            task value := inti;\n                            /* CIF label (175, 101), (104, 46) */\n                            conversion:\n                            /* CIF task (25, 162), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (190, 225), (75, 50) */\n                            decision i = 7;\n                                /* CIF ANSWER (316, 295), (70, 23) */\n                                (true):\n                                    /* CIF return (334, 333), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (64, 295), (70, 23) */\n                                (false):\n                                    /* CIF task (0, 333), (199, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 7 then i else i + 1 fi;\n                                    /* CIF join (82, 386), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (460, 287), (158, 35) */\n                    procedure PackOperationData;\n                        /* CIF TEXT (429, 13), (287, 183) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Fnum MyL3Fnum,\n                          in l3Data MyL3Data,\n                          out operationData MyOperationData;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (138, 1), (70, 35) */\n                        START;\n                            /* CIF task (20, 51), (306, 53) */\n                            task for ii in range(0, length(operationData(0)), 1):\n  operationData(0)(ii) := l3Tte(ii)\nendfor;\n                            /* CIF task (20, 119), (306, 53) */\n                            task for ii in range(0, length(operationData(1)), 1):\n  operationData(1)(ii) := l3Tte(ii + 8)\nendfor;\n                            /* CIF task (20, 187), (306, 53) */\n                            task for ii in range(0, length(operationData(2)), 1):\n  operationData(2)(ii) := l3Mrt(ii)\nendfor;\n                            /* CIF task (20, 255), (306, 53) */\n                            task for ii in range(0, length(operationData(3)), 1):\n  operationData(3)(ii) := l3Mrt(ii + 8)\nendfor;\n                            /* CIF task (20, 323), (306, 53) */\n                            task for ii in range(0, length(operationData(4)), 1):\n  operationData(4)(ii) := l3Fnum(ii)\nendfor;\n                            /* CIF task (42, 391), (262, 63) */\n                            task for ii in range(5, length(l3Data) + 5, 1):\n  operationData(ii) := l3Data(ii - 5)\nendfor;\n                            /* CIF return (155, 473), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (493, 334), (90, 35) */\n                    procedure PackInfo;\n                        /* CIF TEXT (439, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in cntrl MyCntrl,\n                          in code MyCode,\n                          in operationData MyOperationData,\n                          in ifcs MyIfcs,\n                          out info MyInfo;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (143, 0), (70, 35) */\n                        START;\n                            /* CIF task (47, 50), (262, 93) */\n                            task info!ba := ba,\ninfo!cntrl := cntrl,\ninfo!code := code,\ninfo!operationData := operationData,\ninfo!ifcs := ifcs;\n                            /* CIF return (160, 158), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (473, 97), (139, 35) */\n                    procedure DataToL3Frames;\n                        /* CIF TEXT (1199, 15), (293, 233) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in rawData MyRawData,\n                          out l3Stack MyL3Stack;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL currentOctet MyRawDataInteger := 0;\n                        \n                        DCL lastOctet MyRawDataInteger;\n                        \n                        DCL l3Data MyL3Data;\n                        DCL l3DataPosition MyL3DataInteger;\n                        DCL frameCounter MyL3StackInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (652, 0), (70, 35) */\n                        START;\n                            /* CIF label (635, 50), (104, 47) */\n                            converting:\n                            /* CIF decision (554, 112), (265, 50) */\n                            decision length(rawData) - currentOctet > 244;\n                                /* CIF ANSWER (324, 182), (70, 23) */\n                                (true):\n                                    /* CIF task (102, 220), (513, 35) */\n                                    task lastOctet := if currentOctet = 62475 then lastOctet else currentOctet + 245 fi;\n                                    /* CIF task (194, 270), (329, 68) */\n                                    task for ii in range(currentOctet, lastOctet, 1):\n  l3DataPosition := ii - currentOctet\n  l3Data(l3DataPosition) := inputData!rawData(ii)\nendfor\n                                    /* CIF comment (538, 285), (290, 38) */\n                                    comment 'Part of array of octets to array of L3 data';\n                                    /* CIF task (80, 368), (557, 53) */\n                                    task l3Stack(frameCounter) := l3Data,\nframeCounter := if frameCounter = 254 then frameCounter else frameCounter + 1 fi,\ncurrentOctet := if currentOctet = 62475 then currentOctet else currentOctet + 245 fi;\n                                /* CIF ANSWER (973, 182), (70, 23) */\n                                (false):\n                                    /* CIF task (843, 220), (329, 68) */\n                                    task for ii in range(currentOctet, length(rawData), 1):\n  l3DataPosition := ii - currentOctet\n  l3Data(l3DataPosition) := inputData!rawData(ii)\nendfor;\n                                    /* CIF task (891, 318), (233, 35) */\n                                    task l3Stack(frameCounter) := l3Data;\n                                    /* CIF return (990, 372), (35, 35) */\n                                    return ;\n                            enddecision;\n                            /* CIF join (669, 436), (35, 35) */\n                            join converting;\n                    endprocedure;\n                    /* CIF procedure (460, 191), (161, 35) */\n                    procedure IntegerTo16BitArray;\n                        /* CIF TEXT (696, 13), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My16BitArrayValueInteger,\n                          out bitArray My16BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        \n                        DCL value My16BitArrayValueInteger := 0;\n                        DCL bitValue My16BitArrayValueInteger := 65535;\n                        /* CIF ENDTEXT */\n                        /* CIF START (345, 0), (70, 35) */\n                        START;\n                            /* CIF task (312, 50), (135, 35) */\n                            task value := inti;\n                            /* CIF label (328, 100), (104, 48) */\n                            conversion:\n                            /* CIF task (177, 163), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (342, 226), (75, 50) */\n                            decision i = 15;\n                                /* CIF ANSWER (189, 296), (70, 23) */\n                                (true):\n                                    /* CIF return (206, 334), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (503, 297), (70, 23) */\n                                (false):\n                                    /* CIF task (435, 335), (206, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 15 then i else i + 1 fi;\n                                    /* CIF join (520, 388), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (479, 239), (117, 35) */\n                    procedure CalculateFcs;\n                        /* CIF TEXT (1092, 13), (289, 368) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Fnum MyL3Fnum,\n                          in l3Data MyL3Data,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3DataStack MyL3DataStack;\n                        \n                        DCL l3FcsStack MyL3FcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (611, 0), (70, 35) */\n                        START;\n                            /* CIF task (539, 50), (214, 63) */\n                            task for ii in range(0, 4, 1):\n  l3FcsStack(ii) := ba!srcAddr(ii)\nendfor\n                            /* CIF comment (773, 64), (98, 35) */\n                            comment 'ERROR HERE';\n                            /* CIF task (529, 133), (234, 63) */\n                            task for ii in range(4, 8, 1):\n  l3FcsStack(ii) := ba!dstAddr(ii - 4)\nendfor;\n                            /* CIF task (548, 211), (196, 63) */\n                            task for ii in range(8, 16, 1):\n  l3FcsStack(ii) := code(ii - 8)\nendfor;\n                            /* CIF task (544, 295), (204, 63) */\n                            task for ii in range(16, 24, 1):\n  l3FcsStack(ii) := l3Tte(ii - 16)\nendfor;\n                            /* CIF task (544, 383), (204, 63) */\n                            task for ii in range(24, 32, 1):\n  l3FcsStack(ii) := l3Tte(ii - 16)\nendfor;\n                            /* CIF task (543, 471), (205, 63) */\n                            task for ii in range(32, 40, 1):\n  l3FcsStack(ii) := l3Mrt(ii - 32)\nendfor;\n                            /* CIF task (543, 559), (205, 63) */\n                            task for ii in range(40, 48, 1):\n  l3FcsStack(ii) := l3Mrt(ii - 32)\nendfor;\n                            /* CIF task (538, 642), (215, 63) */\n                            task for ii in range(48, 56, 1):\n  l3FcsStack(ii) := l3Fnum(ii - 48)\nendfor;\n                            /* CIF task (508, 720), (276, 83) */\n                            task for ii in range(0, length(l3Data), 1):\n  for j in range(0, length(l3Data(ii)), 1):\n    l3DataStack((ii*8)+j) := l3Data(ii)(j)\n  endfor\nendfor\n                            /* CIF comment (804, 744), (224, 35) */\n                            comment 'Array of octets to array of bits';\n                            /* CIF task (491, 823), (310, 63) */\n                            task for ii in range(56, length(l3DataStack) + 56, 1):\n  l3FcsStack(ii) := l3DataStack(ii - 56)\nendfor;\n                            /* CIF task (428, 901), (435, 63) */\n                            task for ii in range(length(l3DataStack)+56, length(l3DataStack)+72, 1):\n  l3FcsStack(ii) := false\nendfor;\n                            /* CIF task (260, 986), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (593, 1036), (105, 48) */\n                            calculation:\n                            /* CIF decision (566, 1099), (159, 50) */\n                            decision l3FcsStack(k) = true;\n                                /* CIF ANSWER (409, 1169), (70, 23) */\n                                (true):\n                                    /* CIF task (56, 1207), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (131, 1257), (625, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3FcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (770, 1273), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (287, 1355), (313, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3FcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (616, 1371), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (906, 1169), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (467, 1438), (358, 63) */\n                            decision k = length(l3FcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (268, 1521), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1559), (606, 68) */\n                                    task for l in range(length(l3FcsStack) - (length(l3FcsPolynomial) - 2), length(l3FcsStack), 1):\n  position := l - (length(l3FcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3FcsStack(l)\nendfor;\n                                    /* CIF return (285, 1642), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (832, 1521), (70, 23) */\n                                (false):\n                                    /* CIF task (749, 1559), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1004, 1503), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (849, 1609), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (457, 381), (163, 35) */\n                    procedure CalculateResendTte;\n                        /* CIF TEXT (724, 10), (310, 153) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3AckMissingStack MyL3AckMissingStack,\n                          in l3Stack MyL3Stack,\n                          out timeToEnd MyRawDataInteger;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (322, 0), (70, 35) */\n                        START;\n                            /* CIF task (0, 50), (714, 63) */\n                            task for ii in range(0, length(l3AckMissingStack), 1):\n  timeToEnd := if timeToEnd = 62475 then timeToEnd else timeToEnd + length(l3Stack(l3AckMissingStack(ii) - 1)) fi\nendfor;\n                            /* CIF return (339, 138), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (492, 430), (94, 35) */\n                    procedure InvertFcs;\n                        /* CIF TEXT (267, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ifcs MyIfcs,\n                          out invertedIfcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (82, 0), (70, 35) */\n                        START;\n                            /* CIF task (5, 50), (223, 53) */\n                            task for ii in range(0, length(ifcs), 1):\n  invertedIfcs(15-ii) := ifcs(ii)\nendfor;\n                            /* CIF return (99, 118), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF START (508, 1), (70, 35) */\n                    START;\n                        /* CIF NEXTSTATE (472, 51), (141, 35) */\n                        NEXTSTATE rawDataReceival;\n                    /* CIF state (1187, 1), (141, 38) */\n                    state rawDataReceival;\n                        /* CIF input (1162, 59), (190, 35) */\n                        input ReadRawData(inputData);\n                            /* CIF task (1065, 109), (384, 53) */\n                            task ba := inputData!ba,\ncntrl := { false, false, false, false, false, false, true, true },\ncode := inputData!code;\n                            /* CIF decision (1189, 192), (136, 50) */\n                            decision code;\n                                /* CIF ANSWER (606, 262), (336, 23) */\n                                ({false, false, false, false, false, false, false, false}):\n                                    /* CIF return (756, 300), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (1088, 262), (338, 23) */\n                                ({false, false, false, false, false, false, false, true}):\n                                    /* CIF task (1148, 300), (218, 38) */\n                                    task l3Mrt := inputData!l3Mrt,\ntimeToEnd := length(rawData);\n                                    /* CIF PROCEDURECALL (1101, 356), (312, 35) */\n                                    call DataToL3Frames(inputData!rawData, l3Stack);\n                                    /* CIF output (1134, 406), (246, 35) */\n                                    output SendFrameCount(length(l3Stack));\n                                    /* CIF label (1200, 456), (114, 53) */\n                                    dataSending:\n                                    /* CIF task (1022, 524), (470, 53) */\n                                    task noOfFrame := if noOfFrame = 255 then noOfFrame else noOfFrame+1 fi,\nl3Data := l3Stack(noOfFrame - 1),\ntimeToEnd := timeToEnd - length(l3Data);\n                                    /* CIF PROCEDURECALL (1117, 597), (279, 35) */\n                                    call IntegerTo8BitArray(noOfFrame, l3Fnum);\n                                    /* CIF PROCEDURECALL (1121, 647), (271, 35) */\n                                    call IntegerTo16BitArray(timeToEnd, l3Tte);\n                                    /* CIF PROCEDURECALL (1069, 697), (376, 35) */\n                                    call CalculateFcs(ba, code, l3Tte, l3Mrt, l3Fnum, l3Data, ifcs);\n                                    /* CIF PROCEDURECALL (1156, 747), (202, 35) */\n                                    call InvertFcs(ifcs, invertedIfcs);\n                                    /* CIF PROCEDURECALL (1043, 797), (427, 35) */\n                                    call PackOperationData(l3Tte, l3Mrt, l3Fnum, l3Data, operationData);\n                                    /* CIF PROCEDURECALL (1063, 847), (388, 35) */\n                                    call PackInfo(ba, cntrl, code, operationData, invertedIfcs, info);\n                                    /* CIF output (1160, 897), (194, 35) */\n                                    output SendData(info);\n                                    /* CIF task (952, 947), (609, 48) */\n                                    task sentL3Stack(noOfSentFrames) := l3Data,\nnoOfSentFrames := if noOfSentFrames = 254 then noOfSentFrames else noOfSentFrames + 1 fi;\n                                    /* CIF decision (1092, 1010), (329, 50) */\n                                    decision length(sentL3Stack) = length(l3Stack);\n                                        /* CIF ANSWER (1121, 1080), (70, 23) */\n                                        (true):\n                                            /* CIF return (1138, 1118), (35, 35) */\n                                            return ;\n                                        /* CIF ANSWER (1317, 1080), (70, 23) */\n                                        (false):\n                                            /* CIF join (1334, 1118), (35, 35) */\n                                            join dataSending;\n                                    enddecision;\n                                /* CIF ANSWER (1757, 262), (333, 23) */\n                                ({false, false, false, false, false, false, true, false}):\n                                    /* CIF task (1831, 300), (184, 35) */\n                                    task l3Mrt := inputData!l3Mrt;\n                                    /* CIF PROCEDURECALL (1674, 350), (498, 35) */\n                                    call CalculateResendTte(inputData!l3AckMissingStack, sentL3Stack, timeToEnd);\n                                    /* CIF output (1735, 400), (377, 35) */\n                                    output SendFrameCount(length(inputData!l3AckMissingStack));\n                                    /* CIF label (1859, 450), (129, 53) */\n                                    dataResending:\n                                    /* CIF task (1745, 518), (356, 53) */\n                                    task noOfMissingFrame := inputData!l3AckMissingStack(i),\nl3Data := sentL3Stack(noOfMissingFrame - 1),\ntimeToEnd := timeToEnd - length(l3Data);\n                                    /* CIF PROCEDURECALL (1756, 588), (334, 35) */\n                                    call IntegerTo8BitArray(noOfMissingFrame, l3Fnum);\n                                    /* CIF PROCEDURECALL (1788, 638), (271, 35) */\n                                    call IntegerTo16BitArray(timeToEnd, l3Tte);\n                                    /* CIF PROCEDURECALL (1735, 688), (376, 35) */\n                                    call CalculateFcs(ba, code, l3Tte, l3Mrt, l3Fnum, l3Data, ifcs);\n                                    /* CIF PROCEDURECALL (1822, 738), (202, 35) */\n                                    call InvertFcs(ifcs, invertedIfcs);\n                                    /* CIF PROCEDURECALL (1710, 788), (427, 35) */\n                                    call PackOperationData(l3Tte, l3Mrt, l3Fnum, l3Data, operationData);\n                                    /* CIF PROCEDURECALL (1729, 838), (388, 35) */\n                                    call PackInfo(ba, cntrl, code, operationData, invertedIfcs, info);\n                                    /* CIF output (1826, 888), (194, 35) */\n                                    output SendData(info);\n                                    /* CIF decision (1774, 938), (298, 50) */\n                                    decision i = length(inputData!l3AckMissingStack) - 1;\n                                        /* CIF ANSWER (1747, 1008), (70, 23) */\n                                        (true):\n                                            /* CIF return (1764, 1046), (35, 35) */\n                                            return ;\n                                        /* CIF ANSWER (2014, 1008), (70, 23) */\n                                        (false):\n                                            /* CIF task (1827, 1046), (444, 38) */\n                                            task i := if i = (length(inputData!l3AckMissingStack) - 1) then i else i + 1 fi;\n                                            /* CIF join (2031, 1099), (35, 35) */\n                                            join dataResending;\n                                    enddecision;\n                            enddecision;\n                    endstate;\n            endsubstructure;\n            state dataReceival;\n            substructure\n                    /* CIF TEXT (3475, 8), (357, 398) */\n                    -- Text area for declarations and comments\n                    \n                    DCL frameCounter My8BitArrayValueInteger := 0;\n                    \n                    DCL calculatedIfcs MyL3Fcs;\n                    \n                    DCL currentFrame My8BitArrayValueInteger := 0;\n                    DCL previousFrame My8BitArrayValueInteger := 0;\n                    \n                    DCL frameNumber My8BitArrayValueInteger;\n                    DCL timeToEnd My16BitArrayValueInteger;\n                    \n                    DCL receivedL3Data MyL3Stack;\n                    DCL receivedL3DataFrames MyL3StackNumbers;\n                    \n                    DCL l3MissingDataFrames MyL3MissingStack;\n                    \n                    DCL ackData MyAckData;\n                    \n                    DCL l3Lfn My8BitArray;\n                    DCL l3Hfn My8BitArray;\n                    \n                    DCL l3AckMissingStack MyL3AckMissingStack;\n                    \n                    DCL lastWrittenFrame My8BitArrayValueInteger := 1;\n                    DCL writableFrame My8BitArrayValueInteger := 1;\n                    /* CIF ENDTEXT */\n                    /* CIF procedure (46, 490), (197, 35) */\n                    procedure UnpackAckOperationData;\n                        /* CIF TEXT (525, 15), (287, 173) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in operationData MyOperationData,\n                          out l3Tte MyL3Tte,\n                          out l3Mrt MyL3Mrt,\n                          out l3Lfn MyL3Lfn,\n                          out l3Hfn MyL3Hfn,\n                          out l3Rrq MyL3Rrq;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (242, 0), (70, 35) */\n                        START;\n                            /* CIF task (124, 50), (306, 53) */\n                            task for i in range(0, length(operationData(0)), 1):\n  l3Tte(i) := operationData(0)(i)\nendfor;\n                            /* CIF task (124, 118), (306, 53) */\n                            task for i in range(0, length(operationData(1)), 1):\n  l3Tte(i+8) := operationData(1)(i)\nendfor;\n                            /* CIF task (124, 186), (306, 53) */\n                            task for i in range(0, length(operationData(2)), 1):\n  l3Mrt(i) := operationData(2)(i)\nendfor;\n                            /* CIF task (124, 256), (306, 53) */\n                            task for i in range(0, length(operationData(3)), 1):\n  l3Mrt(i+8) := operationData(3)(i)\nendfor;\n                            /* CIF task (124, 324), (306, 53) */\n                            task for i in range(0, length(operationData(4)), 1):\n  l3Lfn(i) := operationData(4)(i)\nendfor;\n                            /* CIF task (124, 392), (306, 53) */\n                            task for i in range(0, length(operationData(5)), 1):\n  l3Hfn(i) := operationData(5)(i)\nendfor;\n                            /* CIF task (131, 465), (291, 63) */\n                            task for i in range(6, length(operationData), 1):\n  l3Rrq(i - 6) := operationData(i)\nendfor;\n                            /* CIF return (259, 543), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (92, 439), (109, 35) */\n                    procedure InitialiseHfn;\n                        /* CIF TEXT (740, 12), (335, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3Hfn My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayValueInteger := 1;\n                        \n                        DCL highestFrame My8BitArrayValueInteger := 1;\n                        \n                        DCL frameNumber My8BitArray;\n                        /* CIF ENDTEXT */\n                        /* CIF START (330, 0), (70, 35) */\n                        START;\n                            /* CIF label (308, 50), (114, 51) */\n                            initialising:\n                            /* CIF decision (240, 116), (249, 50) */\n                            decision receivedL3DataFrames(i - 1) = true;\n                                /* CIF ANSWER (198, 186), (70, 23) */\n                                (true):\n                                    /* CIF task (152, 224), (162, 35) */\n                                    task highestFrame := i;\n                                /* CIF ANSWER (455, 186), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (242, 274), (245, 50) */\n                            decision i < length(receivedL3DataFrames);\n                                /* CIF ANSWER (94, 344), (70, 23) */\n                                (true):\n                                    /* CIF task (22, 382), (213, 35) */\n                                    task i := if i = 255 then i else i + 1 fi;\n                                    /* CIF join (111, 432), (35, 35) */\n                                    join initialising;\n                                /* CIF ANSWER (502, 344), (70, 23) */\n                                (false):\n                                    /* CIF PROCEDURECALL (360, 382), (354, 35) */\n                                    call DataIntegerTo8BitArray(highestFrame, frameNumber);\n                                    /* CIF task (452, 432), (170, 35) */\n                                    task l3Hfn := frameNumber;\n                                    /* CIF return (519, 482), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (93, 390), (107, 35) */\n                    procedure InitialiseLfn;\n                        /* CIF TEXT (769, 12), (326, 198) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3Lfn My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i MyL3StackInteger := 0;\n                        \n                        DCL frameNumber My8BitArray;\n                        /* CIF ENDTEXT */\n                        /* CIF START (376, 0), (70, 35) */\n                        START;\n                            /* CIF label (354, 50), (114, 51) */\n                            initialising:\n                            /* CIF decision (289, 116), (245, 50) */\n                            decision i < length(receivedL3DataFrames);\n                                /* CIF ANSWER (202, 186), (70, 23) */\n                                (true):\n                                    /* CIF decision (122, 224), (231, 50) */\n                                    decision receivedL3DataFrames(i) = true;\n                                        /* CIF ANSWER (71, 294), (70, 23) */\n                                        (true):\n                                            /* CIF task (0, 332), (213, 35) */\n                                            task i := if i = 255 then i else i + 1 fi;\n                                        /* CIF ANSWER (338, 294), (70, 23) */\n                                        (false):\n                                            /* CIF PROCEDURECALL (227, 332), (293, 35) */\n                                            call DataIntegerTo8BitArray(i + 1, frameNumber);\n                                            /* CIF task (289, 382), (168, 35) */\n                                            task l3Lfn := frameNumber;\n                                            /* CIF return (356, 432), (35, 35) */\n                                            return ;\n                                    enddecision;\n                                    /* CIF join (220, 482), (35, 35) */\n                                    join initialising;\n                                /* CIF ANSWER (548, 186), (70, 23) */\n                                (false):\n                                    /* CIF return (566, 224), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (74, 291), (150, 35) */\n                    procedure CheckMissingData\n                    /* CIF comment (244, 291), (152, 35) */\n                    comment 'Currently not used';\n                        /* CIF TEXT (521, 25), (326, 143) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3MissingData MyBoolean;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayValueInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (187, 0), (70, 35) */\n                        START;\n                            /* CIF label (175, 50), (93, 46) */\n                            checking:\n                            /* CIF decision (97, 111), (249, 50) */\n                            decision receivedL3DataFrames(i - 1) = true;\n                                /* CIF ANSWER (83, 181), (70, 23) */\n                                (true):\n                                    /* CIF decision (80, 219), (75, 50) */\n                                    decision i = 255;\n                                        /* CIF ANSWER (0, 289), (70, 23) */\n                                        (true):\n                                            /* CIF return (17, 327), (35, 35) */\n                                            return ;\n                                        /* CIF ANSWER (164, 289), (70, 23) */\n                                        (false):\n                                            /* CIF task (92, 327), (213, 35) */\n                                            task i := if i = 255 then i else i + 1 fi;\n                                            /* CIF join (181, 377), (35, 35) */\n                                            join checking;\n                                    enddecision;\n                                /* CIF ANSWER (364, 181), (70, 23) */\n                                (false):\n                                    /* CIF task (316, 219), (166, 35) */\n                                    task l3MissingData := true;\n                                    /* CIF return (381, 269), (35, 35) */\n                                    return ;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (59, 240), (182, 35) */\n                    procedure ArrayOf16BitsToInteger;\n                        /* CIF TEXT (479, 13), (337, 183) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in bitArray My16BitArray,\n                          out inti My16BitArrayValueInteger;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 15;\n                        \n                        DCL bitValue My16BitArrayValueInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (186, 0), (70, 35) */\n                        START;\n                            /* CIF label (169, 50), (104, 46) */\n                            conversion:\n                            /* CIF task (0, 111), (443, 33) */\n                            task inti := if bitArray(i) = true then inti+bitValue else inti fi;\n                            /* CIF decision (186, 159), (70, 50) */\n                            decision i = 0;\n                                /* CIF ANSWER (82, 229), (70, 23) */\n                                (true):\n                                    /* CIF return (100, 267), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (289, 229), (70, 23) */\n                                (false):\n                                    /* CIF task (222, 267), (204, 38) */\n                                    task bitValue := bitValue * 2,\ni := if i = 0 then i else i - 1 fi;\n                                    /* CIF join (307, 320), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (62, 142), (174, 35) */\n                    procedure UnpackOperationData;\n                        /* CIF TEXT (525, 15), (287, 173) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in operationData MyOperationData,\n                          out l3Tte MyL3Tte,\n                          out l3Mrt MyL3Mrt,\n                          out l3Fnum MyL3Fnum,\n                          out l3Data MyL3Data;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (242, 0), (70, 35) */\n                        START;\n                            /* CIF task (124, 50), (306, 53) */\n                            task for i in range(0, length(operationData(0)), 1):\n  l3Tte(i) := operationData(0)(i)\nendfor;\n                            /* CIF task (124, 118), (306, 53) */\n                            task for i in range(0, length(operationData(1)), 1):\n  l3Tte(i+8) := operationData(1)(i)\nendfor;\n                            /* CIF task (124, 186), (306, 53) */\n                            task for i in range(0, length(operationData(2)), 1):\n  l3Mrt(i) := operationData(2)(i)\nendfor;\n                            /* CIF task (124, 256), (306, 53) */\n                            task for i in range(0, length(operationData(3)), 1):\n  l3Mrt(i+8) := operationData(3)(i)\nendfor;\n                            /* CIF task (124, 324), (306, 53) */\n                            task for i in range(0, length(operationData(4)), 1):\n  l3Fnum(i) := operationData(4)(i)\nendfor;\n                            /* CIF task (131, 395), (291, 63) */\n                            task for i in range(5, length(operationData), 1):\n  l3Data(i - 5) := operationData(i)\nendfor;\n                            /* CIF return (259, 473), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (95, 95), (112, 35) */\n                    procedure UnpackInfo;\n                        /* CIF TEXT (444, 15), (287, 198) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in info MyInfo,\n                          out ba MyBa,\n                          out cntrl MyCntrl,\n                          out code MyCode,\n                          out operationData MyOperationData,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        /* CIF ENDTEXT */\n                        /* CIF START (195, 0), (70, 35) */\n                        START;\n                            /* CIF task (99, 50), (262, 93) */\n                            task ba := info!ba,\ncntrl := info!cntrl,\ncode := info!code,\noperationData := info!operationData,\nifcs := info!ifcs;\n                            /* CIF return (212, 158), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (62, 190), (175, 35) */\n                    procedure ArrayOf8BitsToInteger;\n                        /* CIF TEXT (513, 15), (337, 183) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in bitArray My8BitArray,\n                          out inti My8BitArrayValueInteger;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayInteger := 7;\n                        \n                        DCL bitValue My8BitArrayValueInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (186, 0), (70, 35) */\n                        START;\n                            /* CIF label (169, 50), (104, 46) */\n                            conversion:\n                            /* CIF task (0, 111), (443, 33) */\n                            task inti := if bitArray(i) = true then inti+bitValue else inti fi;\n                            /* CIF decision (186, 159), (70, 50) */\n                            decision i = 0;\n                                /* CIF ANSWER (87, 229), (70, 23) */\n                                (true):\n                                    /* CIF return (105, 267), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (277, 229), (70, 23) */\n                                (false):\n                                    /* CIF task (183, 267), (258, 38) */\n                                    task bitValue := bitValue * 2,\ni := if i = 0 then i else i - 1 fi;\n                                    /* CIF join (295, 320), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (67, 341), (161, 35) */\n                    procedure InitialiseMissingData;\n                        /* CIF TEXT (997, 19), (326, 218) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in receivedL3Data MyL3Stack,\n                          in receivedL3DataFrames MyL3StackNumbers,\n                          out l3MissingDataFrames MyL3MissingStack;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i MyL3StackInteger := 0;\n                        \n                        DCL frameCount My8BitArrayValueInteger := 1;\n                        \n                        DCL frameNumber My8BitArray;\n                        /* CIF ENDTEXT */\n                        /* CIF START (636, 0), (70, 35) */\n                        START;\n                            /* CIF label (622, 50), (98, 46) */\n                            initialising:\n                            /* CIF decision (549, 111), (245, 50) */\n                            decision i < length(receivedL3DataFrames);\n                                /* CIF ANSWER (414, 181), (70, 23) */\n                                (true):\n                                    /* CIF decision (332, 219), (234, 50) */\n                                    decision receivedL3DataFrames(i) = false;\n                                        /* CIF ANSWER (211, 289), (70, 23) */\n                                        (true):\n                                            /* CIF PROCEDURECALL (110, 327), (273, 35) */\n                                            call DataIntegerTo8BitArray(i, frameNumber);\n                                            /* CIF task (0, 377), (493, 38) */\n                                            task l3MissingDataFrames(frameCount - 1) := frameNumber,\nframeCount := if frameCount = 255 then frameCount else frameCount + 1 fi;\n                                        /* CIF ANSWER (621, 289), (70, 23) */\n                                        (false):\n                                    enddecision;\n                                /* CIF ANSWER (876, 181), (70, 23) */\n                                (false):\n                                    /* CIF return (894, 219), (35, 35) */\n                                    return ;\n                            enddecision;\n                            /* CIF task (565, 445), (213, 35) */\n                            task i := if i = 255 then i else i + 1 fi;\n                            /* CIF join (654, 495), (35, 35) */\n                            join initialising;\n                    endprocedure;\n                    /* CIF procedure (40, 539), (215, 35) */\n                    procedure InitialiseMissingDataNumbers;\n                        /* CIF TEXT (470, 10), (320, 173) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in l3Rrq MyL3Rrq,\n                          out l3AckMissingStack MyL3AckMissingStack;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i MyL3AckMissingStackInteger := 0;\n                        \n                        DCL frameNumber My8BitArrayValueInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (155, 0), (70, 35) */\n                        START;\n                            /* CIF label (141, 50), (98, 45) */\n                            initialising:\n                            /* CIF PROCEDURECALL (32, 110), (316, 35) */\n                            call ArrayOf8BitsToInteger(l3Rrq(i), frameNumber);\n                            /* CIF task (57, 160), (265, 35) */\n                            task l3AckMissingStack(i) := frameNumber;\n                            /* CIF decision (113, 210), (154, 50) */\n                            decision i = length(l3Rrq) - 1;\n                                /* CIF ANSWER (8, 280), (70, 23) */\n                                (true):\n                                    /* CIF return (25, 318), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (313, 280), (70, 23) */\n                                (false):\n                                    /* CIF task (202, 318), (292, 35) */\n                                    task i := if i = length(l3Rrq) - 1 then i else i + 1 fi;\n                                    /* CIF join (330, 368), (35, 35) */\n                                    join initialising;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (72, 587), (141, 35) */\n                    procedure InitialiseRawData;\n                        /* CIF TEXT (575, 13), (344, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in lastWrittenFrame My8BitArrayValueInteger, \n                          in writableFrame My8BitArrayValueInteger,\n                          in receivedL3Data MyL3Stack,\n                          out rawData MyRawData;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL octetNumber MyRawDataInteger := 1;\n                        /* CIF ENDTEXT */\n                        /* CIF START (244, 0), (70, 35) */\n                        START;\n                            /* CIF task (0, 50), (559, 98) */\n                            task for i in range(lastWrittenFrame - 1, length(l3Lfn), 1):\n  for j in range(0, length(receivedL3Data(i)), 1):\n    rawData(octetNumber - 1) := receivedL3Data(i)(j)\n    octetNumber := if octetNumber = 62475 then octetNumber else octetNumber + 1 fi\n   endfor\nendfor;\n                            /* CIF return (262, 163), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (58, 666), (169, 35) */\n                    procedure DataIntegerTo8BitArray;\n                        /* CIF TEXT (528, 10), (337, 188) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in inti My8BitArrayValueInteger,\n                          out bitArray My8BitArray;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My8BitArrayInteger := 0;\n                        \n                        DCL value My8BitArrayValueInteger := 0;\n                        DCL bitValue My8BitArrayValueInteger := 255;\n                        /* CIF ENDTEXT */\n                        /* CIF START (192, 1), (70, 35) */\n                        START;\n                            /* CIF task (160, 51), (135, 35) */\n                            task value := inti;\n                            /* CIF label (175, 101), (104, 46) */\n                            conversion:\n                            /* CIF task (25, 162), (405, 48) */\n                            task bitArray(i) := if value>bitValue then true else false fi,\nvalue := if bitArray(i) = true then value-bitValue else value fi;\n                            /* CIF decision (190, 225), (75, 50) */\n                            decision i = 7;\n                                /* CIF ANSWER (316, 295), (70, 23) */\n                                (true):\n                                    /* CIF return (334, 333), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (64, 295), (70, 23) */\n                                (false):\n                                    /* CIF task (0, 333), (199, 38) */\n                                    task bitValue := bitValue / 2,\ni := if i = 7 then i else i + 1 fi;\n                                    /* CIF join (82, 386), (35, 35) */\n                                    join conversion;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (77, 714), (131, 35) */\n                    procedure DataCalculateFcs;\n                        /* CIF TEXT (1092, 13), (289, 368) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Fnum MyL3Fnum,\n                          in l3Data MyL3Data,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3DataStack MyL3DataStack;\n                        \n                        DCL l3FcsStack MyL3FcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (611, 0), (70, 35) */\n                        START;\n                            /* CIF task (539, 50), (214, 63) */\n                            task for i in range(0, 4, 1):\n  l3FcsStack(i) := ba!srcAddr(i)\nendfor;\n                            /* CIF task (529, 133), (234, 63) */\n                            task for i in range(4, 8, 1):\n  l3FcsStack(i) := ba!dstAddr(i - 4)\nendfor;\n                            /* CIF task (548, 211), (196, 63) */\n                            task for i in range(8, 16, 1):\n  l3FcsStack(i) := code(i - 8)\nendfor;\n                            /* CIF task (544, 295), (204, 63) */\n                            task for i in range(16, 24, 1):\n  l3FcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (544, 383), (204, 63) */\n                            task for i in range(24, 32, 1):\n  l3FcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (543, 471), (205, 63) */\n                            task for i in range(32, 40, 1):\n  l3FcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (543, 559), (205, 63) */\n                            task for i in range(40, 48, 1):\n  l3FcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (538, 642), (215, 63) */\n                            task for i in range(48, 56, 1):\n  l3FcsStack(i) := l3Fnum(i - 48)\nendfor;\n                            /* CIF task (508, 720), (276, 83) */\n                            task for i in range(0, length(l3Data), 1):\n  for j in range(0, length(l3Data(i)), 1):\n    l3DataStack((i*8)+j) := l3Data(i)(j)\n  endfor\nendfor\n                            /* CIF comment (804, 744), (224, 35) */\n                            comment 'Array of octets to array of bits';\n                            /* CIF task (491, 823), (310, 63) */\n                            task for i in range(56, length(l3DataStack) + 56, 1):\n  l3FcsStack(i) := l3DataStack(i - 56)\nendfor;\n                            /* CIF task (428, 901), (435, 63) */\n                            task for i in range(length(l3DataStack)+56, length(l3DataStack)+72, 1):\n  l3FcsStack(i) := false\nendfor;\n                            /* CIF task (260, 986), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (593, 1036), (105, 48) */\n                            calculation:\n                            /* CIF decision (566, 1099), (159, 50) */\n                            decision l3FcsStack(k) = true;\n                                /* CIF ANSWER (409, 1169), (70, 23) */\n                                (true):\n                                    /* CIF task (56, 1207), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (131, 1257), (625, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3FcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (770, 1273), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (287, 1355), (313, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3FcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (616, 1371), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (906, 1169), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (467, 1438), (358, 63) */\n                            decision k = length(l3FcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (268, 1521), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1559), (606, 68) */\n                                    task for l in range(length(l3FcsStack) - (length(l3FcsPolynomial) - 2), length(l3FcsStack), 1):\n  position := l - (length(l3FcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3FcsStack(l)\nendfor;\n                                    /* CIF return (285, 1642), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (832, 1521), (70, 23) */\n                                (false):\n                                    /* CIF task (749, 1559), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1004, 1496), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (849, 1609), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF procedure (87, 762), (108, 35) */\n                    procedure DataInvertFcs;\n                        /* CIF TEXT (267, 12), (287, 203) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ifcs MyIfcs,\n                          out invertedIfcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL i My16BitArrayInteger := 0;\n                        /* CIF ENDTEXT */\n                        /* CIF START (82, 0), (70, 35) */\n                        START;\n                            /* CIF task (5, 50), (223, 53) */\n                            task for ii in range(0, length(ifcs), 1):\n  invertedIfcs(15-ii) := ifcs(ii)\nendfor;\n                            /* CIF return (99, 118), (35, 35) */\n                            return ;\n                    endprocedure;\n                    /* CIF procedure (66, 811), (154, 35) */\n                    procedure DataCalculateAckFcs;\n                        /* CIF TEXT (1109, 13), (289, 383) */\n                        -- Procedure interface\n                        \n                        fpar\n                          in ba MyBa,\n                          in code MyCode,\n                          in l3Tte MyL3Tte,\n                          in l3Mrt MyL3Mrt,\n                          in l3Lfn MyL3Lfn,\n                          in l3Hfn MyL3Hfn,\n                          in l3Rrq MyL3Rrq,\n                          out ifcs MyIfcs;\n                        \n                        -- Text area for declarations and comments\n                        \n                        DCL l3AckDataStack MyL3AckDataStack;\n                        \n                        DCL l3AckFcsStack MyL3AckFcsStack;\n                        DCL l3FcsPolynomial MyL3FcsPolynomial;\n                        \n                        DCL k MyL3FcsStackInteger := 0;\n                        \n                        DCL l3FcsXorResult MyL3FcsPolynomial;\n                        \n                        DCL position My16BitArrayInteger;\n                        DCL fcsPosition MyFcsPolynomialInteger;\n                        /* CIF ENDTEXT */\n                        /* CIF START (628, 0), (70, 35) */\n                        START;\n                            /* CIF task (545, 50), (237, 63) */\n                            task for i in range(0, 4, 1):\n  l3AckFcsStack(i) := ba!srcAddr(i)\nendfor;\n                            /* CIF task (535, 133), (257, 63) */\n                            task for i in range(4, 8, 1):\n  l3AckFcsStack(i) := ba!dstAddr(i - 4)\nendfor;\n                            /* CIF task (554, 211), (219, 63) */\n                            task for i in range(8, 16, 1):\n  l3AckFcsStack(i) := code(i - 8)\nendfor;\n                            /* CIF task (550, 295), (227, 63) */\n                            task for i in range(16, 24, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (550, 383), (227, 63) */\n                            task for i in range(24, 32, 1):\n  l3AckFcsStack(i) := l3Tte(i - 16)\nendfor;\n                            /* CIF task (549, 471), (228, 63) */\n                            task for i in range(32, 40, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (549, 559), (228, 63) */\n                            task for i in range(40, 48, 1):\n  l3AckFcsStack(i) := l3Mrt(i - 32)\nendfor;\n                            /* CIF task (551, 637), (225, 53) */\n                            task for i in range(48, 56, 1):\n  l3AckFcsStack(i) := l3Lfn(i - 48)\nendfor;\n                            /* CIF task (550, 709), (227, 53) */\n                            task for i in range(56, 64, 1):\n  l3AckFcsStack(i) := l3Hfn(i - 56)\nendfor;\n                            /* CIF task (534, 783), (259, 93) */\n                            task for i in range(0, length(l3Rrq), 1):\n  for j in range(0, length(l3Rrq(i)), 1):\n    l3AckDataStack((i*8)+j) := l3Rrq(i)(j)\n  endfor\nendfor;\n                            /* CIF task (497, 894), (333, 63) */\n                            task for i in range(64, length(l3AckDataStack) + 64, 1):\n  l3AckFcsStack(i) := l3AckDataStack(i - 72)\nendfor;\n                            /* CIF task (423, 975), (481, 63) */\n                            task for i in range(length(l3AckDataStack)+64, length(l3AckDataStack)+80, 1):\n  l3AckFcsStack(i) := false\nendfor;\n                            /* CIF task (278, 1060), (771, 35) */\n                            task l3FcsPolynomial := {true, false, false, false, true, false, false, false, false, false, false, true, false, false, false, false, true};\n                            /* CIF label (611, 1110), (105, 48) */\n                            calculation:\n                            /* CIF decision (572, 1173), (182, 50) */\n                            decision l3AckFcsStack(k) = true;\n                                /* CIF ANSWER (352, 1243), (70, 23) */\n                                (true):\n                                    /* CIF task (0, 1281), (775, 35) */\n                                    task l3FcsXorResult := {false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false, false};\n                                    /* CIF task (63, 1331), (648, 68) */\n                                    task for l in range(k, k + length(l3FcsPolynomial), 1):\n  fcsPosition := l - k\n  l3FcsXorResult(fcsPosition) := if l3AckFcsStack(l) = l3FcsPolynomial(fcsPosition) then false else true fi\nendfor\n                                    /* CIF comment (725, 1348), (126, 35) */\n                                    comment 'XOR operation';\n                                    /* CIF task (232, 1415), (311, 68) */\n                                    task for l in range(k, length(l3FcsXorResult) + k, 1):\n  fcsPosition := l - k\n  l3AckFcsStack(l) := l3FcsXorResult(fcsPosition)\nendfor\n                                    /* CIF comment (560, 1432), (127, 35) */\n                                    comment 'Replace result';\n                                /* CIF ANSWER (907, 1243), (70, 23) */\n                                (false):\n                            enddecision;\n                            /* CIF decision (473, 1498), (381, 63) */\n                            decision k = length(l3AckFcsStack) - length(l3FcsPolynomial);\n                                /* CIF ANSWER (285, 1581), (70, 23) */\n                                (true):\n                                    /* CIF task (17, 1619), (607, 68) */\n                                    task for l in range(length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2), length(l3AckFcsStack), 1):\n  position := l - (length(l3AckFcsStack) - (length(l3FcsPolynomial) - 2))\n  ifcs(position) := l3AckFcsStack(l)\nendfor;\n                                    /* CIF return (303, 1710), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (859, 1581), (70, 23) */\n                                (false):\n                                    /* CIF task (776, 1619), (236, 35) */\n                                    task k := if k = 2023 then k else k + 1 fi\n                                    /* CIF comment (1029, 1619), (100, 35) */\n                                    comment 'Shift right';\n                                    /* CIF join (877, 1669), (35, 35) */\n                                    join calculation;\n                            enddecision;\n                    endprocedure;\n                    /* CIF START (118, 0), (70, 35) */\n                    START;\n                        /* CIF NEXTSTATE (71, 50), (164, 35) */\n                        NEXTSTATE frameCountReceival;\n                    /* CIF state (325, 0), (164, 35) */\n                    state frameCountReceival;\n                        /* CIF input (286, 55), (243, 35) */\n                        input ReceiveFrameCount(frameCount);\n                            /* CIF NEXTSTATE (348, 110), (119, 35) */\n                            NEXTSTATE dataReceival;\n                    endstate;\n                    /* CIF state (1702, 1), (119, 35) */\n                    state dataReceival;\n                        /* CIF input (1655, 56), (213, 35) */\n                        input ReceiveData(info);\n                            /* CIF task (1489, 106), (545, 35) */\n                            task frameCounter := if frameCounter = 255 then frameCounter else frameCounter + 1 fi;\n                            /* CIF PROCEDURECALL (1585, 156), (352, 35) */\n                            call UnpackInfo(info, ba, cntrl, code, operationData, ifcs);\n                            /* CIF decision (1703, 206), (117, 50) */\n                            decision code;\n                                /* CIF ANSWER (406, 276), (336, 23) */\n                                ({false, false, false, false, false, false, false, false}):\n                                    /* CIF return (556, 314), (35, 35) */\n                                    return ;\n                                /* CIF ANSWER (1595, 276), (333, 23) */\n                                ({false, false, false, false, false, false, false, true}):\n                                    /* CIF PROCEDURECALL (1540, 314), (443, 35) */\n                                    call UnpackOperationData(operationData, l3Tte, l3Mrt, l3Fnum, l3Data);\n                                    /* CIF PROCEDURECALL (1603, 364), (316, 35) */\n                                    call ArrayOf8BitsToInteger(l3Fnum, frameNumber);\n                                    /* CIF task (1651, 414), (221, 35) */\n                                    task currentFrame := frameNumber;\n                                    /* CIF PROCEDURECALL (1532, 464), (458, 35) */\n                                    call DataCalculateFcs(ba, code, l3Tte, l3Mrt, l3Fnum, l3Data, calculatedIfcs);\n                                    /* CIF PROCEDURECALL (1619, 514), (284, 35) */\n                                    call DataInvertFcs(calculatedIfcs, invertedIfcs);\n                                    /* CIF decision (1620, 564), (282, 50) */\n                                    decision invertedIfcs = ifcs;\n                                        /* CIF ANSWER (1160, 634), (70, 23) */\n                                        (true):\n                                            /* CIF decision (1071, 672), (247, 50) */\n                                            decision currentFrame = previousFrame + 1;\n                                                /* CIF ANSWER (891, 742), (70, 23) */\n                                                (true):\n                                                /* CIF ANSWER (1304, 742), (70, 23) */\n                                                (false):\n                                                    /* CIF task (971, 780), (735, 53) */\n                                                    task for i in range(previousFrame, currentFrame, 1):\n  receivedL3DataFrames(i - 1) := if receivedL3DataFrames(i - 1) = true then receivedL3DataFrames(i - 1) else false fi\nendfor\n                                                    /* CIF comment (1726, 789), (386, 35) */\n                                                    comment 'Frames between current and previous frame went missing';\n                                            enddecision;\n                                            /* CIF task (1027, 848), (335, 53) */\n                                            task receivedL3Data(currentFrame - 1) := l3Data,\nreceivedL3DataFrames(currentFrame - 1) := true,\npreviousFrame := currentFrame\n                                            /* CIF comment (1382, 780), (180, 35) */\n                                            comment 'Current frame is stored';\n                                            /* CIF decision (1090, 916), (210, 50) */\n                                            decision frameCounter = frameCount;\n                                                /* CIF ANSWER (992, 986), (70, 23) */\n                                                (true):\n                                                    /* CIF PROCEDURECALL (753, 1024), (547, 35) */\n                                                    call InitialiseMissingData(receivedL3Data, receivedL3DataFrames, l3MissingDataFrames);\n                                                    /* CIF PROCEDURECALL (881, 1074), (292, 35) */\n                                                    call InitialiseLfn(receivedL3DataFrames, l3Lfn);\n                                                    /* CIF PROCEDURECALL (879, 1124), (296, 35) */\n                                                    call InitialiseHfn(receivedL3DataFrames, l3Hfn);\n                                                    /* CIF PROCEDURECALL (873, 1174), (307, 35) */\n                                                    call ArrayOf8BitsToInteger(l3Lfn, writableFrame);\n                                                    /* CIF PROCEDURECALL (772, 1224), (509, 35) */\n                                                    call InitialiseRawData(lastWrittenFrame, writableFrame, receivedL3Data, rawData);\n                                                    /* CIF task (898, 1274), (258, 53) */\n                                                    task inputData!ba!srcAddr := ba!srcAddr,\ninputData!ba!dstAddr := ba!dstAddr,\ninputData!rawData := rawData;\n                                                    /* CIF output (931, 1342), (192, 35) */\n                                                    output WriteRawData(inputData);\n                                                    /* CIF task (902, 1392), (249, 35) */\n                                                    task lastWrittenFrame := writableFrame;\n                                                    /* CIF task (808, 1442), (437, 113) */\n                                                    task ackData!ba!srcAddr := ba!dstAddr,\nackData!ba!dstAddr := ba!srcAddr,\nackData!code := {false, false, false, false, false, false, true, false},\nackData!l3Mrt := l3Mrt,\nackData!l3Lfn := l3Lfn,\nackData!l3Hfn := l3Hfn,\nackData!l3MissingData := l3MissingDataFrames;\n                                                    /* CIF output (952, 1570), (149, 35) */\n                                                    output SendAck(ackData);\n                                                    /* CIF return (1009, 1620), (35, 35) */\n                                                    return ;\n                                                /* CIF ANSWER (1387, 986), (70, 23) */\n                                                (false):\n                                            enddecision;\n                                        /* CIF ANSWER (2257, 634), (70, 23) */\n                                        (false):\n                                            /* CIF task (2122, 672), (339, 38) */\n                                            task receivedL3DataFrames(currentFrame - 1) := false,\npreviousFrame := currentFrame\n                                            /* CIF comment (2480, 674), (137, 35) */\n                                            comment 'Frame is corrupt';\n                                    enddecision;\n                                    /* CIF PROCEDURECALL (1615, 1685), (292, 35) */\n                                    call ArrayOf16BitsToInteger(l3Tte, timeToEnd);\n                                    /* CIF decision (1698, 1735), (126, 43) */\n                                    decision timeToEnd > 0\n                                    /* CIF comment (1845, 1695), (283, 35) */\n                                    comment 'What if last frame has TTE bigger than 0?';\n                                        /* CIF ANSWER (1549, 1798), (70, 23) */\n                                        (true):\n                                        /* CIF ANSWER (1915, 1798), (70, 23) */\n                                        (false):\n                                            /* CIF PROCEDURECALL (1676, 1836), (547, 35) */\n                                            call InitialiseMissingData(receivedL3Data, receivedL3DataFrames, l3MissingDataFrames);\n                                            /* CIF PROCEDURECALL (1804, 1886), (292, 35) */\n                                            call InitialiseLfn(receivedL3DataFrames, l3Lfn);\n                                            /* CIF PROCEDURECALL (1802, 1936), (296, 35) */\n                                            call InitialiseHfn(receivedL3DataFrames, l3Hfn);\n                                            /* CIF PROCEDURECALL (1796, 1986), (307, 35) */\n                                            call ArrayOf8BitsToInteger(l3Lfn, writableFrame);\n                                            /* CIF PROCEDURECALL (1695, 2036), (509, 35) */\n                                            call InitialiseRawData(lastWrittenFrame, writableFrame, receivedL3Data, rawData);\n                                            /* CIF task (1821, 2086), (258, 53) */\n                                            task inputData!ba!srcAddr := ba!srcAddr,\ninputData!ba!dstAddr := ba!dstAddr,\ninputData!rawData := rawData;\n                                            /* CIF output (1854, 2154), (192, 35) */\n                                            output WriteRawData(inputData);\n                                            /* CIF task (1825, 2204), (249, 35) */\n                                            task lastWrittenFrame := writableFrame;\n                                            /* CIF task (1731, 2254), (437, 113) */\n                                            task ackData!ba!srcAddr := ba!dstAddr,\nackData!ba!dstAddr := ba!srcAddr,\nackData!code := {false, false, false, false, false, false, true, false},\nackData!l3Mrt := l3Mrt,\nackData!l3Lfn := l3Lfn,\nackData!l3Hfn := l3Hfn,\nackData!l3MissingData := l3MissingDataFrames;\n                                            /* CIF output (1875, 2382), (149, 35) */\n                                            output SendAck(ackData);\n                                            /* CIF return (1932, 2432), (35, 35) */\n                                            return ;\n                                    enddecision;\n                                /* CIF ANSWER (3053, 276), (333, 23) */\n                                ({false, false, false, false, false, false, true, false}):\n                                    /* CIF PROCEDURECALL (2974, 314), (491, 35) */\n                                    call UnpackAckOperationData(operationData, l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq);\n                                    /* CIF PROCEDURECALL (2970, 364), (498, 35) */\n                                    call DataCalculateAckFcs(ba, code, l3Tte, l3Mrt, l3Lfn, l3Hfn, l3Rrq, calculatedIfcs);\n                                    /* CIF PROCEDURECALL (3077, 414), (284, 35) */\n                                    call DataInvertFcs(calculatedIfcs, invertedIfcs);\n                                    /* CIF decision (3147, 464), (145, 50) */\n                                    decision invertedIfcs = ifcs;\n                                        /* CIF ANSWER (3059, 534), (70, 23) */\n                                        (true):\n                                            /* CIF decision (3024, 572), (140, 50) */\n                                            decision length(l3Rrq) > 0;\n                                                /* CIF ANSWER (2881, 642), (70, 23) */\n                                                (true):\n                                                    /* CIF PROCEDURECALL (2729, 680), (373, 35) */\n                                                    call InitialiseMissingDataNumbers(l3Rrq, l3AckMissingStack);\n                                                    /* CIF task (2692, 730), (447, 83) */\n                                                    task inputData!ba!srcAddr := ba!dstAddr,\ninputData!ba!dstAddr := ba!srcAddr,\ninputData!code := {false, false, false, false, false, false, true, false},\ninputData!l3Mrt := l3Mrt,\ninputData!l3AckMissingStack := l3AckMissingStack;\n                                                    /* CIF output (2814, 832), (204, 35) */\n                                                    output ResendRawData(inputData);\n                                                    /* CIF return (2898, 882), (35, 35) */\n                                                    return ;\n                                                /* CIF ANSWER (3281, 642), (70, 23) */\n                                                (false):\n                                                    /* CIF return (3298, 680), (35, 35) */\n                                                    return ;\n                                            enddecision;\n                                        /* CIF ANSWER (3379, 534), (70, 23) */\n                                        (false):\n                                            /* CIF return (3396, 572), (35, 35) */\n                                            return ;\n                                    enddecision;\n                            enddecision;\n                            /* CIF NEXTSTATE (1702, 2497), (119, 35) */\n                            NEXTSTATE dataReceival;\n                    endstate;\n            endsubstructure;\n            /* CIF state (186, 120), (119, 35) */\n            state dataReceival;\n            endstate;\n            /* CIF state (176, 24), (141, 35) */\n            state rawDataReceival;\n            endstate;\n            /* CIF state (144, 72), (204, 35) */\n            state acknowledgementReceival;\n            endstate;\n    endsubstructure;\n    /* CIF TEXT (724, 22), (300, 428) */\n    -- Text area for declarations and comments\n    \n    DCL inputData MyInputData;\n    \n    DCL info MyInfo;\n    \n    DCL ba MyBa;\n    DCL cntrl MyCntrl;\n    DCL code MyCode;\n    DCL operationData MyOperationData;\n    DCL ifcs MyIfcs;\n    \n    DCL invertedIfcs MyIfcs;\n    \n    DCL frameCount My8BitArrayValueInteger;\n    \n    DCL l3Tte MyL3Tte;\n    DCL l3Mrt MyL3Mrt;\n    DCL l3Fnum MyL3Fnum;\n    DCL l3Data MyL3Data;\n    \n    DCL rawData MyRawData;\n    \n    DCL ackData MyAckData;\n    \n    DCL l3Lfn MyL3Lfn;\n    DCL l3Hfn MyL3Hfn;\n    DCL l3Rrq MyL3Rrq;\n    /* CIF ENDTEXT */\n    /* CIF START (320, 10), (70, 35) */\n    START;\n        /* CIF label (314, 60), (81, 38) */\n        waiting:\n        /* CIF NEXTSTATE (320, 116), (70, 35) */\n        NEXTSTATE Wait;\n    /* CIF state (520, 10), (70, 35) */\n    state Wait;\n    endstate;\n'
	at ee.ibk.sdl.parser.ThrowingErrorListener.syntaxError(ThrowingErrorListener.java:18)
	at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)
	at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:544)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:282)
	at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:121)
	at ee.ibk.sdl.parser.grammar.SDLParser.composite_state_body(SDLParser.java:4593)
	at ee.ibk.sdl.parser.grammar.SDLParser.composite_state_graph(SDLParser.java:3827)
	at ee.ibk.sdl.parser.grammar.SDLParser.composite_state(SDLParser.java:3676)
	at ee.ibk.sdl.parser.grammar.SDLParser.process_definition(SDLParser.java:1288)
	at ee.ibk.sdl.parser.grammar.SDLParser.pr_file(SDLParser.java:309)
	at ee.ibk.sdl.parser.SDLParserMain.doParse(SDLParserMain.java:40)
	at ee.ibk.sdl.parser.SDLParserMain.parseFile(SDLParserMain.java:72)
	at ee.ibk.sdl.parser.SDLParserMain.main(SDLParserMain.java:117)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:58)
